)]}'
{"version": 3, "sources": ["/base/static/tests/test_ir_model_fields_translation.js", "/web/static/tests/legacy/helpers/cleanup.js", "/web/static/tests/legacy/helpers/utils.js", "/web/static/tests/legacy/utils.js", "/web/static/tests/tours/user_switch_tour.js", "/mail/static/tests/tours/activity_date_format_tour.js", "/mail/static/tests/tours/discuss_channel_as_guest_tour.js", "/mail/static/tests/tours/discuss_channel_call_public_tour.js", "/mail/static/tests/tours/discuss_channel_public_tour.js", "/mail/static/tests/tours/discuss_configuration_tour.js", "/mail/static/tests/tours/discuss_go_back_to_thread_from_breadcrumbs_tour.js", "/mail/static/tests/tours/discuss_sidebar_in_public_page_tour.js", "/mail/static/tests/tours/discuss_sub_channel_search_tour.js", "/mail/static/tests/tours/mail_activity_schedule_from_chatter.js", "/mail/static/tests/tours/mail_composer_test_tour.js", "/mail/static/tests/tours/mail_message_load_order_tour.js", "/mail/static/tests/tours/mail_template_dynamic_placeholder_tour.js", "/mail/static/tests/tours/user_modify_own_profile_tour.js", "/portal/static/tests/tours/portal.js", "/portal/static/tests/tours/skip_to_content.js", "/account/static/tests/tours/tax_group_tests.js", "/account/static/tests/tours/tour_tests_shared_js_python.js", "/calendar/static/tests/tours/calendar_tour.js", "/contacts/static/tests/tours/debug_menu_set_defaults.js", "/crm/static/tests/tours/create_crm_team_tour.js", "/crm/static/tests/tours/crm_email_and_phone_propagation.js", "/crm/static/tests/tours/crm_forecast_tour.js", "/crm/static/tests/tours/crm_rainbowman.js", "/auth_totp/static/tests/totp_flow.js", "/auth_totp_mail/static/tests/totp_flow.js", "/auth_totp_portal/static/tests/totp_portal.js"], "mappings": "AAAA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9mCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7qBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzKA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACXA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9KA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxRA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1KA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3JA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7WA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA", "sourcesContent": ["/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nfunction checkLoginColumn(translation) {\n    return [\n        stepUtils.showAppsMenuItem(), {\n            content: \"Settings\",\n            trigger: 'a[data-menu-xmlid=\"base.menu_administration\"]',\n            run: 'click',\n        }, {\n            content: \"Open Users & Companies\",\n            trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n            run: \"click\",\n        }, {\n            content: \"Open Users\",\n            trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n            run: \"click\",\n        }, {\n            content: `Login column should be ${translation}`,\n            trigger: `[data-name=\"login\"] span:contains(\"${translation}\")`,\n        }\n    ]\n}\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_en_tour', {\n    url: '/odoo',\n    steps: () => checkLoginColumn('Login')\n});\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_en_tour2', {\n    url: '/odoo',\n    steps: () => checkLoginColumn('Login2')\n});\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_fr_tour', {\n    url: '/odoo',\n    steps: () => checkLoginColumn('Identifiant')\n});\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_fr_tour2', {\n    url: '/odoo',\n    steps: () => checkLoginColumn('Identifiant2')\n});\n", "/** @odoo-module alias=@web/../tests/helpers/cleanup default=false */\n\n// -----------------------------------------------------------------------------\n// Cleanup\n// -----------------------------------------------------------------------------\n\nconst cleanups = [];\n\n/**\n * Register a cleanup callback that will be executed whenever the current test\n * is done.\n *\n * - the cleanups will be executed in reverse order\n * - they will be executed even if the test fails/crashes\n *\n * @param {Function} callback\n */\nexport function registerCleanup(callback) {\n    cleanups.push(callback);\n}\n\nif (window.QUnit) {\n    QUnit.on(\"OdooAfterTestHook\", (info) => {\n        if (QUnit.config.debug) {\n            return;\n        }\n        let cleanup;\n        // note that this calls the cleanup callbacks in reverse order!\n        while ((cleanup = cleanups.pop())) {\n            try {\n                cleanup(info);\n            } catch (error) {\n                console.error(error);\n            }\n        }\n    });\n\n    // -----------------------------------------------------------------------------\n    // Check leftovers\n    // -----------------------------------------------------------------------------\n\n    /**\n     * List of elements tolerated in the body after a test. The property \"keep\"\n     * prevents the element from being removed (typically: qunit suite elements).\n     */\n    const validElements = [\n        // always in the body:\n        { tagName: \"DIV\", attr: \"id\", value: \"qunit\", keep: true },\n        { tagName: \"DIV\", attr: \"id\", value: \"qunit-fixture\", keep: true },\n        // shouldn't be in the body after a test but are tolerated:\n        { tagName: \"SCRIPT\", attr: \"id\", value: \"\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"o_notification_manager\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"tooltip fade bs-tooltip-auto\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"tooltip fade bs-tooltip-auto show\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"tooltip tooltip-field-info fade bs-tooltip-auto\" },\n        {\n            tagName: \"DIV\",\n            attr: \"class\",\n            value: \"tooltip tooltip-field-info fade bs-tooltip-auto show\",\n        },\n\n        // Due to a Document Kanban bug (already present in 12.0)\n        { tagName: \"DIV\", attr: \"class\", value: \"ui-helper-hidden-accessible\" },\n        {\n            tagName: \"UL\",\n            attr: \"class\",\n            value: \"ui-menu ui-widget ui-widget-content ui-autocomplete ui-front\",\n        },\n        {\n            tagName: \"UL\",\n            attr: \"class\",\n            value: \"ui-menu ui-widget ui-widget-content ui-autocomplete dropdown-menu ui-front\", // many2ones\n        },\n    ];\n\n    /**\n     * After each test, we check that there is no leftover in the DOM.\n     *\n     * Note: this event is not QUnit standard, we added it for this specific use case.\n     * As a payload, an object with keys 'moduleName' and 'testName' is provided. It\n     * is used to indicate the test that left elements in the DOM, when it happens.\n     */\n    QUnit.on(\"OdooAfterTestHook\", function (info) {\n        if (QUnit.config.debug) {\n            return;\n        }\n        const failed = info.testReport.getStatus() === \"failed\";\n        const toRemove = [];\n        // check for leftover elements in the body\n        for (const bodyChild of document.body.children) {\n            const tolerated = validElements.find(\n                (e) => e.tagName === bodyChild.tagName && bodyChild.getAttribute(e.attr) === e.value\n            );\n            if (!failed && !tolerated) {\n                QUnit.pushFailure(\n                    `Body still contains undesirable elements:\\n${bodyChild.outerHTML}`\n                );\n            }\n            if (!tolerated || !tolerated.keep) {\n                toRemove.push(bodyChild);\n            }\n        }\n        // cleanup leftovers in #qunit-fixture\n        const qunitFixture = document.getElementById(\"qunit-fixture\");\n        if (qunitFixture.children.length) {\n            toRemove.push(...qunitFixture.children);\n        }\n        // remove unwanted elements if not in debug\n        for (const el of toRemove) {\n            el.remove();\n        }\n        document.body.classList.remove(\"modal-open\");\n    });\n}\n", "/** @odoo-module alias=@web/../tests/helpers/utils default=false */\n\nimport { getTemplate } from \"@web/core/templates\";\nimport { browser } from \"@web/core/browser/browser\";\nimport { isMacOS } from \"@web/core/browser/feature_detection\";\nimport { download } from \"@web/core/network/download\";\nimport { getPopoverForTarget } from \"@web/core/popover/popover\";\nimport { Deferred } from \"@web/core/utils/concurrency\";\nimport { patch } from \"@web/core/utils/patch\";\nimport { isVisible } from \"@web/core/utils/ui\";\nimport { _t } from \"@web/core/l10n/translation\";\nimport { registerCleanup } from \"./cleanup\";\n\nimport {\n    App,\n    onError,\n    onMounted,\n    onPatched,\n    onRendered,\n    onWillDestroy,\n    onWillPatch,\n    onWillRender,\n    onWillStart,\n    onWillUnmount,\n    onWillUpdateProps,\n    useComponent,\n} from \"@odoo/owl\";\n\n/**\n * @typedef {keyof HTMLElementEventMap | keyof WindowEventMap} EventType\n *\n * @typedef {Side | `${Side}-${Side}` | { x?: number, y?: number }} Position\n *\n * @typedef {\"bottom\" | \"left\" | \"right\" | \"top\"} Side\n *\n * @typedef TriggerEventOptions\n * @property {boolean} [skipVisibilityCheck=false]\n * @property {boolean} [sync=false]\n */\n\n/**\n * Patch the native Date object\n *\n * Note that it will be automatically unpatched at the end of the test\n *\n * @param {number} [year]\n * @param {number} [month]\n * @param {number} [day]\n * @param {number} [hours]\n * @param {number} [minutes]\n * @param {number} [seconds]\n * @param {number} [ms=0]\n */\nexport function patchDate(year, month, day, hours, minutes, seconds, ms = 0) {\n    var RealDate = window.Date;\n    var actualDate = new RealDate();\n\n    // By default, RealDate uses the browser offset, so we must replace it with the offset fixed in luxon.\n    var fakeDate = new RealDate(year, month, day, hours, minutes, seconds, ms);\n    if (!(luxon.Settings.defaultZone instanceof luxon.FixedOffsetZone)) {\n        throw new Error(\"luxon.Settings.defaultZone must be a FixedOffsetZone\");\n    }\n    const browserOffset = -fakeDate.getTimezoneOffset();\n    const patchedOffset = luxon.Settings.defaultZone.offset();\n    const offsetDiff = patchedOffset - browserOffset;\n    const correctedMinutes = fakeDate.getMinutes() - offsetDiff;\n    fakeDate.setMinutes(correctedMinutes);\n\n    var timeInterval = actualDate.getTime() - fakeDate.getTime();\n\n    // eslint-disable-next-line no-global-assign\n    window.Date = (function (NativeDate) {\n        function Date(Y, M, D, h, m, s, ms) {\n            var length = arguments.length;\n            let date;\n            if (arguments.length > 0) {\n                date =\n                    length == 1 && String(Y) === Y // isString(Y)\n                        ? // We explicitly pass it through parse:\n                          new NativeDate(Date.parse(Y))\n                        : // We have to manually make calls depending on argument\n                        // length here\n                        length >= 7\n                        ? new NativeDate(Y, M, D, h, m, s, ms)\n                        : length >= 6\n                        ? new NativeDate(Y, M, D, h, m, s)\n                        : length >= 5\n                        ? new NativeDate(Y, M, D, h, m)\n                        : length >= 4\n                        ? new NativeDate(Y, M, D, h)\n                        : length >= 3\n                        ? new NativeDate(Y, M, D)\n                        : length >= 2\n                        ? new NativeDate(Y, M)\n                        : length >= 1\n                        ? new NativeDate(Y)\n                        : new NativeDate();\n                // Prevent mixups with unfixed Date object\n                date.constructor = Date;\n                return date;\n            } else {\n                date = new NativeDate();\n                var time = date.getTime();\n                time -= timeInterval;\n                date.setTime(time);\n                return date;\n            }\n        }\n\n        // Copy any custom methods a 3rd party library may have added\n        for (var key in NativeDate) {\n            Date[key] = NativeDate[key];\n        }\n\n        // Copy \"native\" methods explicitly; they may be non-enumerable\n        // exception: 'now' uses fake date as reference\n        Date.now = function () {\n            var date = new NativeDate();\n            var time = date.getTime();\n            time -= timeInterval;\n            return time;\n        };\n        Date.UTC = NativeDate.UTC;\n        Date.prototype = NativeDate.prototype;\n        Date.prototype.constructor = Date;\n\n        // Upgrade Date.parse to handle simplified ISO 8601 strings\n        Date.parse = NativeDate.parse;\n        return Date;\n    })(Date);\n\n    registerCleanup(() => {\n        window.Date = RealDate;\n    });\n}\n\n/**\n * Applies a fixed time zone to luxon based on an offset to the UTC time zone.\n *\n * @param {number} offset the number of minutes ahead or behind the UTC time zone\n *                          +120 => UTC+2\n *                          -120 => UTC-2\n */\nexport function patchTimeZone(offset) {\n    patchWithCleanup(luxon.Settings, { defaultZone: luxon.FixedOffsetZone.instance(offset) });\n}\n\n/**\n *\n * @param {Object} obj object to patch\n * @param {Object} patchValue the actual patch description\n */\nexport function patchWithCleanup(obj, patchValue) {\n    const unpatch = patch(obj, patchValue);\n    registerCleanup(() => {\n        unpatch();\n    });\n}\n\n/**\n * @returns {Element}\n */\nexport function getFixture() {\n    if (!window.QUnit) {\n        return document;\n    }\n    if (QUnit.config.debug) {\n        return document.body;\n    } else {\n        return document.getElementById(\"qunit-fixture\");\n    }\n}\n\nexport async function nextTick() {\n    await new Promise((resolve) => window.requestAnimationFrame(resolve));\n    await new Promise((resolve) => setTimeout(resolve));\n}\n\nexport function makeDeferred() {\n    return new Deferred();\n}\n\nexport function findElement(el, selector) {\n    let target = el;\n    if (selector) {\n        const els = el.querySelectorAll(selector);\n        if (els.length === 0) {\n            throw new Error(`No element found (selector: ${selector})`);\n        }\n        if (els.length > 1) {\n            throw new Error(`Found ${els.length} elements, instead of 1 (selector: ${selector})`);\n        }\n        target = els[0];\n    }\n    return target;\n}\n\n//-----------------------------------------------------------------------------\n// Event init attributes mappers\n//-----------------------------------------------------------------------------\n\n/** @param {EventInit} [args] */\nconst mapBubblingEvent = (args) => ({ ...args, bubbles: true });\n\n/** @param {EventInit} [args] */\nconst mapNonBubblingEvent = (args) => ({ ...args, bubbles: false });\n\n/** @param {EventInit} [args={}] */\nconst mapBubblingPointerEvent = (args = {}) => ({\n    clientX: args.pageX,\n    clientY: args.pageY,\n    ...args,\n    bubbles: true,\n    cancelable: true,\n    view: window,\n});\n\n/** @param {EventInit} [args] */\nconst mapNonBubblingPointerEvent = (args) => ({\n    ...mapBubblingPointerEvent(args),\n    bubbles: false,\n    cancelable: false,\n});\n\n/** @param {EventInit} [args={}] */\nconst mapCancelableTouchEvent = (args = {}) => ({\n    ...args,\n    bubbles: true,\n    cancelable: true,\n    composed: true,\n    rotation: 0.0,\n    touches: args.touches ? [...args.touches.map((e) => new Touch(e))] : undefined,\n    view: window,\n    zoom: 1.0,\n});\n\n/** @param {EventInit} [args] */\nconst mapNonCancelableTouchEvent = (args) => ({\n    ...mapCancelableTouchEvent(args),\n    cancelable: false,\n});\n\n/** @param {EventInit} [args] */\nconst mapKeyboardEvent = (args) => ({\n    ...args,\n    bubbles: true,\n    cancelable: true,\n});\n\n/**\n * @template {typeof Event} T\n * @param {EventType} eventType\n * @returns {[T, (attrs: EventInit) => EventInit]}\n */\nconst getEventConstructor = (eventType) => {\n    switch (eventType) {\n        // Mouse events\n        case \"auxclick\":\n        case \"click\":\n        case \"contextmenu\":\n        case \"dblclick\":\n        case \"mousedown\":\n        case \"mouseup\":\n        case \"mousemove\":\n        case \"mouseover\":\n        case \"mouseout\": {\n            return [MouseEvent, mapBubblingPointerEvent];\n        }\n        case \"mouseenter\":\n        case \"mouseleave\": {\n            return [MouseEvent, mapNonBubblingPointerEvent];\n        }\n        // Pointer events\n        case \"pointerdown\":\n        case \"pointerup\":\n        case \"pointermove\":\n        case \"pointerover\":\n        case \"pointerout\": {\n            return [PointerEvent, mapBubblingPointerEvent];\n        }\n        case \"pointerenter\":\n        case \"pointerleave\": {\n            return [PointerEvent, mapNonBubblingPointerEvent];\n        }\n        // Focus events\n        case \"focusin\": {\n            return [FocusEvent, mapBubblingEvent];\n        }\n        case \"focus\":\n        case \"blur\": {\n            return [FocusEvent, mapNonBubblingEvent];\n        }\n        // Clipboard events\n        case \"cut\":\n        case \"copy\":\n        case \"paste\": {\n            return [ClipboardEvent, mapBubblingEvent];\n        }\n        // Keyboard events\n        case \"keydown\":\n        case \"keypress\":\n        case \"keyup\": {\n            return [KeyboardEvent, mapKeyboardEvent];\n        }\n        // Drag events\n        case \"drag\":\n        case \"dragend\":\n        case \"dragenter\":\n        case \"dragstart\":\n        case \"dragleave\":\n        case \"dragover\":\n        case \"drop\": {\n            return [DragEvent, mapBubblingEvent];\n        }\n        // Input events\n        case \"input\": {\n            return [InputEvent, mapBubblingEvent];\n        }\n        // Composition events\n        case \"compositionstart\":\n        case \"compositionend\": {\n            return [CompositionEvent, mapBubblingEvent];\n        }\n        // UI events\n        case \"scroll\": {\n            return [UIEvent, mapNonBubblingEvent];\n        }\n        // Touch events\n        case \"touchstart\":\n        case \"touchend\":\n        case \"touchmove\": {\n            return [TouchEvent, mapCancelableTouchEvent];\n        }\n        case \"touchcancel\": {\n            return [TouchEvent, mapNonCancelableTouchEvent];\n        }\n        // Default: base Event constructor\n        default: {\n            return [Event, mapBubblingEvent];\n        }\n    }\n};\n\n/**\n * @template {EventType} T\n * @param {Element} el\n * @param {string | null | undefined | false} selector\n * @param {T} eventType\n * @param {EventInit} [eventInit]\n * @param {TriggerEventOptions} [options={}]\n * @returns {GlobalEventHandlersEventMap[T] | Promise<GlobalEventHandlersEventMap[T]>}\n */\nexport function triggerEvent(el, selector, eventType, eventInit, options = {}) {\n    const errors = [];\n    const target = findElement(el, selector);\n\n    // Error handling\n    if (typeof eventType !== \"string\") {\n        errors.push(\"event type must be a string\");\n    }\n    if (!target) {\n        errors.push(\"cannot find target\");\n    } else if (!options.skipVisibilityCheck && !isVisible(target)) {\n        errors.push(\"target is not visible\");\n    }\n    if (errors.length) {\n        throw new Error(\n            `Cannot trigger event${eventType ? ` \"${eventType}\"` : \"\"}${\n                selector ? ` (with selector \"${selector}\")` : \"\"\n            }: ${errors.join(\" and \")}`\n        );\n    }\n\n    // Actual dispatch\n    const [Constructor, processParams] = getEventConstructor(eventType);\n    const event = new Constructor(eventType, processParams(eventInit));\n    target.dispatchEvent(event);\n\n    if (window.QUnit && QUnit.config.debug) {\n        const group = `%c[${event.type.toUpperCase()}]`;\n        console.groupCollapsed(group, \"color: #b52c9b\");\n        console.log(target, event);\n        console.groupEnd(group, \"color: #b52c9b\");\n    }\n\n    if (options.sync) {\n        return event;\n    } else {\n        return nextTick().then(() => event);\n    }\n}\n\n/**\n * @param {Element} el\n * @param {string | null | undefined | false} selector\n * @param {(EventType | [EventType, EventInit])[]} [eventDefs]\n * @param {TriggerEventOptions} [options={}]\n */\nexport function triggerEvents(el, selector, eventDefs, options = {}) {\n    const events = [...eventDefs].map((eventDef) => {\n        const [eventType, eventInit] = Array.isArray(eventDef) ? eventDef : [eventDef, {}];\n        return triggerEvent(el, selector, eventType, eventInit, options);\n    });\n    if (options.sync) {\n        return events;\n    } else {\n        return nextTick().then(() => events);\n    }\n}\n\n/**\n * Triggers a scroll event on the given target\n *\n * If the target cannot be scrolled or an axis has reached\n * the end of the scrollable area, the event can be transmitted\n * to its nearest parent until it can be triggered\n *\n * @param {Element} target target of the scroll event\n * @param {Object} coordinates\n * @param {number} coordinates.left coordinates to scroll horizontally\n * @param {number} coordinates.top coordinates to scroll vertically\n * @param {boolean} canPropagate states if the scroll can propagate to a scrollable parent\n */\nexport async function triggerScroll(\n    target,\n    coordinates = { left: null, top: null },\n    canPropagate = true\n) {\n    const isScrollable =\n        (target.scrollHeight > target.clientHeight && target.clientHeight > 0) ||\n        (target.scrollWidth > target.clientWidth && target.clientWidth > 0);\n    if (!isScrollable && !canPropagate) {\n        return;\n    }\n    if (isScrollable) {\n        const canScrollFrom = {\n            left:\n                coordinates.left > target.scrollLeft\n                    ? target.scrollLeft + target.clientWidth < target.scrollWidth\n                    : target.scrollLeft > 0,\n            top:\n                coordinates.top > target.scrollTop\n                    ? target.scrollTop + target.clientHeight < target.scrollHeight\n                    : target.scrollTop > 0,\n        };\n        const scrollCoordinates = {};\n        Object.entries(coordinates).forEach(([key, value]) => {\n            if (value !== null && canScrollFrom[key]) {\n                scrollCoordinates[key] = value;\n                delete coordinates[key];\n            }\n        });\n        target.scrollTo(scrollCoordinates);\n        await triggerEvent(target, null, \"scroll\");\n        if (!canPropagate || !Object.entries(coordinates).length) {\n            return;\n        }\n    }\n    target.parentElement\n        ? triggerScroll(target.parentElement, coordinates)\n        : triggerEvent(window, null, \"scroll\");\n    await nextTick();\n}\n\nexport function click(\n    el,\n    selector,\n    { mouseEventInit = {}, skipDisabledCheck = false, skipVisibilityCheck = false } = {}\n) {\n    if (!skipDisabledCheck && el.disabled) {\n        throw new Error(\"Can't click on a disabled button\");\n    }\n    return triggerEvents(\n        el,\n        selector,\n        [\n            \"pointerdown\",\n            \"mousedown\",\n            \"focus\",\n            \"focusin\",\n            \"pointerup\",\n            \"mouseup\",\n            [\"click\", mouseEventInit],\n        ],\n        { skipVisibilityCheck }\n    );\n}\n\nexport function clickCreate(htmlElement) {\n    if (\n        htmlElement.querySelectorAll(\n            \".o_control_panel_main_buttons .o_form_button_create\"\n        ).length\n    ) {\n        return click(\n            htmlElement,\n            \".o_control_panel_main_buttons .o_form_button_create\"\n        );\n    } else if (\n        htmlElement.querySelectorAll(\n            \".o_control_panel_main_buttons .o_list_button_create\"\n        ).length\n    ) {\n        return click(\n            htmlElement,\n            \".o_control_panel_main_buttons .o_list_button_create\"\n        );\n    } else {\n        throw new Error(\"No edit button found to be clicked.\");\n    }\n}\n\nexport function clickEdit(htmlElement) {\n    if (htmlElement.querySelectorAll(\".o_list_button_edit\").length) {\n        return click(htmlElement, \".o_list_button_edit\");\n    } else {\n        throw new Error(\"No edit button found to be clicked.\");\n    }\n}\n\nexport async function clickSave(htmlElement) {\n    if (htmlElement.querySelectorAll(\".o_form_status_indicator\").length) {\n        await mouseEnter(htmlElement, \".o_form_status_indicator\");\n    }\n    if (htmlElement.querySelectorAll(\".o_form_button_save\").length) {\n        return click(htmlElement, \".o_form_button_save\");\n    }\n    const listSaveButtons = htmlElement.querySelectorAll(\".o_list_button_save\");\n    if (listSaveButtons.length) {\n        return listSaveButtons.length >= 2 ? click(listSaveButtons[1]) : click(listSaveButtons[0]);\n    } else {\n        throw new Error(\"No save button found to be clicked.\");\n    }\n}\n\nexport async function clickDiscard(htmlElement) {\n    if (htmlElement.querySelectorAll(\".o_form_status_indicator\").length) {\n        await mouseEnter(htmlElement, \".o_form_status_indicator\");\n    }\n    if (htmlElement.querySelectorAll(\".o_form_button_cancel\").length) {\n        return click(htmlElement, \".o_form_button_cancel\");\n    } else if ($(htmlElement).find(\".o_list_button_discard:visible\").length) {\n        return click($(htmlElement).find(\".o_list_button_discard:visible\").get(0));\n    } else {\n        throw new Error(\"No discard button found to be clicked.\");\n    }\n}\n\n/**\n * Trigger pointerenter and mouseenter events on the given target. If no\n * coordinates are given, the event is located by default\n * in the middle of the target to simplify the test process\n *\n * @param {Element} el\n * @param {string} selector\n * @param {Object} coordinates position of the mouseenter event\n */\nexport async function mouseEnter(el, selector, coordinates) {\n    const target = el.querySelector(selector) || el;\n    const atPos = coordinates || {\n        clientX: target.getBoundingClientRect().left + target.getBoundingClientRect().width / 2,\n        clientY: target.getBoundingClientRect().top + target.getBoundingClientRect().height / 2,\n    };\n    return triggerEvents(target, null, [\"pointerenter\", \"mouseenter\"], atPos);\n}\n\n/**\n * Trigger pointerleave and mouseleave events on the given target.\n *\n * @param {Element} el\n * @param {string} selector\n */\nexport async function mouseLeave(el, selector) {\n    const target = el.querySelector(selector) || el;\n    return triggerEvents(target, null, [\"pointerleave\", \"mouseleave\"]);\n}\n\nexport async function editInput(el, selector, value) {\n    const input = findElement(el, selector);\n    if (!(input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement)) {\n        throw new Error(\"Only 'input' and 'textarea' elements can be edited with 'editInput'.\");\n    }\n    if (\n        ![\"text\", \"textarea\", \"email\", \"search\", \"color\", \"number\", \"file\", \"tel\"].includes(\n            input.type\n        )\n    ) {\n        throw new Error(`Type \"${input.type}\" not supported by 'editInput'.`);\n    }\n\n    const eventOpts = {};\n    if (input.type === \"file\") {\n        const files = Array.isArray(value) ? value : [value];\n        const dataTransfer = new DataTransfer();\n        for (const file of files) {\n            if (!(file instanceof File)) {\n                throw new Error(`File input value should be one or several File objects.`);\n            }\n            dataTransfer.items.add(file);\n        }\n        input.files = dataTransfer.files;\n        eventOpts.skipVisibilityCheck = true;\n    } else {\n        input.value = value;\n    }\n\n    await triggerEvents(input, null, [\"input\", \"change\"], eventOpts);\n\n    if (input.type === \"file\") {\n        // Need to wait for the file to be loaded by the input\n        await nextTick();\n        await nextTick();\n    }\n}\n\nexport function editSelect(el, selector, value) {\n    const select = findElement(el, selector);\n    if (select.tagName !== \"SELECT\") {\n        throw new Error(\"Only select tag can be edited with selectInput.\");\n    }\n    select.value = value;\n    return triggerEvent(select, null, \"change\");\n}\n\nexport async function editSelectMenu(el, selector, value) {\n    const dropdown = el.querySelector(selector);\n    await click(dropdown.querySelector(\".dropdown-toggle\"));\n    for (const item of Array.from(el.querySelectorAll(\".o_select_menu_menu .dropdown-item\"))) {\n        if (item.textContent === value) {\n            return click(item);\n        }\n    }\n}\n\n/**\n * Triggers an hotkey properly disregarding the operating system.\n *\n * @param {string} hotkey\n * @param {boolean} addOverlayModParts\n * @param {KeyboardEventInit} eventAttrs\n */\nexport async function triggerHotkey(hotkey, addOverlayModParts = false, eventAttrs = {}) {\n    eventAttrs.key = hotkey.split(\"+\").pop();\n\n    if (/shift/i.test(hotkey)) {\n        eventAttrs.shiftKey = true;\n    }\n\n    if (/control/i.test(hotkey)) {\n        if (isMacOS()) {\n            eventAttrs.metaKey = true;\n        } else {\n            eventAttrs.ctrlKey = true;\n        }\n    }\n\n    if (/alt/i.test(hotkey) || addOverlayModParts) {\n        if (isMacOS()) {\n            eventAttrs.ctrlKey = true;\n        } else {\n            eventAttrs.altKey = true;\n        }\n    }\n\n    if (!(\"bubbles\" in eventAttrs)) {\n        eventAttrs.bubbles = true;\n    }\n\n    const [keydownEvent, keyupEvent] = await triggerEvents(\n        document.activeElement,\n        null,\n        [\n            [\"keydown\", eventAttrs],\n            [\"keyup\", eventAttrs],\n        ],\n        { skipVisibilityCheck: true }\n    );\n\n    return { keydownEvent, keyupEvent };\n}\n\nexport function mockDownload(cb) {\n    patchWithCleanup(download, { _download: cb });\n}\n\nexport const hushConsole = Object.create(null);\nfor (const propName of Object.keys(window.console)) {\n    hushConsole[propName] = () => {};\n}\n\nexport function mockSendBeacon(mock) {\n    patchWithCleanup(navigator, {\n        sendBeacon: (url, blob) => {\n            return mock(url, blob) !== false;\n        },\n    });\n}\n\nexport function mockTimeout() {\n    const timeouts = new Map();\n    let currentTime = 0;\n    let id = 1;\n    patchWithCleanup(browser, {\n        setTimeout(fn, delay = 0) {\n            timeouts.set(id, { fn, scheduledFor: delay + currentTime, id });\n            return id++;\n        },\n        clearTimeout(id) {\n            timeouts.delete(id);\n        },\n    });\n    return {\n        execRegisteredTimeouts() {\n            for (const { fn } of timeouts.values()) {\n                fn();\n            }\n            timeouts.clear();\n        },\n        async advanceTime(duration) {\n            // wait here so all microtasktick scheduled in this frame can be\n            // executed and possibly register their own timeout\n            await nextTick();\n            currentTime += duration;\n            for (const { fn, scheduledFor, id } of timeouts.values()) {\n                if (scheduledFor <= currentTime) {\n                    fn();\n                    timeouts.delete(id);\n                }\n            }\n            // wait here to make sure owl can update the UI\n            await nextTick();\n        },\n    };\n}\n\nexport function mockAnimationFrame() {\n    const callbacks = new Map();\n    let currentTime = 0;\n    let id = 1;\n    patchWithCleanup(browser, {\n        requestAnimationFrame(fn) {\n            callbacks.set(id, { fn, scheduledFor: 16 + currentTime, id });\n            return id++;\n        },\n        cancelAnimationFrame(id) {\n            callbacks.delete(id);\n        },\n        performance: { now: () => currentTime },\n    });\n    return {\n        execRegisteredAnimationFrames() {\n            for (const { fn } of callbacks.values()) {\n                fn(currentTime);\n            }\n            callbacks.clear();\n        },\n        async advanceFrame(count = 1) {\n            // wait here so all microtasktick scheduled in this frame can be\n            // executed and possibly register their own timeout\n            await nextTick();\n            currentTime += 16 * count;\n            for (const { fn, scheduledFor, id } of callbacks.values()) {\n                if (scheduledFor <= currentTime) {\n                    fn(currentTime);\n                    callbacks.delete(id);\n                }\n            }\n            // wait here to make sure owl can update the UI\n            await nextTick();\n        },\n    };\n}\n\nexport async function mount(Comp, target, config = {}) {\n    let { props, env } = config;\n    env = env || {};\n    const configuration = {\n        env,\n        getTemplate,\n        test: true,\n        props,\n    };\n    if (env.services && \"localization\" in env.services) {\n        configuration.translateFn = _t;\n    }\n    const app = new App(Comp, configuration);\n    registerCleanup(() => app.destroy());\n    return app.mount(target);\n}\n\nexport function destroy(comp) {\n    comp.__owl__.app.destroy();\n}\n\nexport function findChildren(comp, predicate = (e) => e) {\n    const queue = [];\n    [].unshift.apply(queue, Object.values(comp.__owl__.children));\n\n    while (queue.length > 0) {\n        const curNode = queue.pop();\n        if (predicate(curNode)) {\n            return curNode;\n        }\n        [].unshift.apply(queue, Object.values(curNode.component.__owl__.children));\n    }\n}\n\n// partial replacement of t-ref on component\nexport function useChild() {\n    const node = useComponent().__owl__;\n    const setChild = () => {\n        const componentNode = Object.values(node.children)[0];\n        node.component.child = componentNode.component;\n    };\n    onMounted(setChild);\n    onPatched(setChild);\n}\n\nexport function useLogLifeCycle(logFn, name = \"\") {\n    const component = useComponent();\n    let loggedName = `${component.constructor.name}`;\n    if (name) {\n        loggedName = `${component.constructor.name} ${name}`;\n    }\n    onError(() => {\n        logFn(`onError ${loggedName}`);\n    });\n    onMounted(() => {\n        logFn(`onMounted ${loggedName}`);\n    });\n    onPatched(() => {\n        logFn(`onPatched ${loggedName}`);\n    });\n    onRendered(() => {\n        logFn(`onRendered ${loggedName}`);\n    });\n    onWillDestroy(() => {\n        logFn(`onWillDestroy ${loggedName}`);\n    });\n    onWillPatch(() => {\n        logFn(`onWillPatch ${loggedName}`);\n    });\n    onWillRender(() => {\n        logFn(`onWillRender ${loggedName}`);\n    });\n    onWillStart(() => {\n        logFn(`onWillStart ${loggedName}`);\n    });\n    onWillUnmount(() => {\n        logFn(`onWillUnmount ${loggedName}`);\n    });\n    onWillUpdateProps(() => {\n        logFn(`onWillUpdateProps ${loggedName}`);\n    });\n}\n\n/**\n * Returns the list of nodes containing n2 (included) that do not contain n1.\n *\n * @param {Node} n1\n * @param {Node} n2\n * @returns {Node[]}\n */\nfunction getDifferentParents(n1, n2) {\n    const parents = [n2];\n    while (parents[0].parentNode) {\n        const parent = parents[0].parentNode;\n        if (parent.contains(n1)) {\n            break;\n        }\n        parents.unshift(parent);\n    }\n    return parents;\n}\n\n/**\n * Helper performing a drag and drop sequence.\n *\n * - 'from' is used to determine the element on which the drag will start;\n * - 'target' will determine the element on which the first one will be dropped.\n *\n * The first element will be dragged by its center, and will be dropped on the\n * bottom-right inner pixel of the target element. This behavior covers both\n * cases of appending the first element to the end of a list (toSelector =\n * target list) or moving it at the position of another element, effectively\n * placing the first element before the second (toSelector = other element).\n *\n * A position can be given to drop the first element above, below, or on the\n * side of the second (default is inside, as specified above).\n *\n * Note that only the last event is awaited, since all the others are\n * considered to be synchronous.\n *\n * @param {Element | string} from\n * @param {Element | string} to\n * @param {Position} [position]\n */\nexport async function dragAndDrop(from, to, position) {\n    const { drop } = await drag(from);\n    await drop(to, position);\n}\n\n/**\n * Helper performing a drag.\n *\n * - the 'from' selector is used to determine the element on which the drag will\n *  start;\n * - the 'target' selector will determine the element on which the dragged element will be\n * moved.\n *\n * Returns a drop function\n *\n * @param {Element | string} from\n */\nexport async function drag(from, pointerType = \"mouse\") {\n    const assertIsDragging = (fn, endDrag) => {\n        return {\n            async [fn.name](...args) {\n                if (dragEndReason) {\n                    throw new Error(\n                        `Cannot execute drag helper '${fn.name}': drag sequence has been ended by '${dragEndReason}'.`\n                    );\n                }\n                await fn(...args);\n                if (endDrag) {\n                    dragEndReason = fn.name;\n                }\n            },\n        }[fn.name];\n    };\n\n    const cancel = assertIsDragging(async function cancel() {\n        await triggerEvent(window, null, \"keydown\", { key: \"Escape\" });\n    }, true);\n\n    /**\n     * @param {Element | string} [to]\n     * @param {Position} [position]\n     */\n    const drop = assertIsDragging(async function drop(to, position) {\n        if (to) {\n            await moveTo(to, position);\n        }\n        await triggerEvent(target || source, null, \"pointerup\", targetPosition);\n    }, true);\n\n    /**\n     * @param {Element | string} selector\n     */\n    const getEl = (selector) =>\n        selector instanceof Element ? selector : fixture.querySelector(selector);\n\n    /**\n     * @param {Position} [position]\n     */\n    const getTargetPosition = (position) => {\n        const tRect = target.getBoundingClientRect();\n        const tPos = {\n            clientX: Math.floor(tRect.x),\n            clientY: Math.floor(tRect.y),\n        };\n        if (position && typeof position === \"object\") {\n            // x and y coordinates start from the element's initial coordinates\n            tPos.clientX += position.x || 0;\n            tPos.clientY += position.y || 0;\n        } else {\n            const positions = typeof position === \"string\" ? position.split(\"-\") : [];\n\n            // X position\n            if (positions.includes(\"left\")) {\n                tPos.clientX -= 1;\n            } else if (positions.includes(\"right\")) {\n                tPos.clientX += Math.ceil(tRect.width) + 1;\n            } else {\n                tPos.clientX += Math.floor(tRect.width / 2);\n            }\n\n            // Y position\n            if (positions.includes(\"top\")) {\n                tPos.clientY -= 1;\n            } else if (positions.includes(\"bottom\")) {\n                tPos.clientY += Math.ceil(tRect.height) + 1;\n            } else {\n                tPos.clientY += Math.floor(tRect.height / 2);\n            }\n        }\n        return tPos;\n    };\n\n    /**\n     * @param {Element | string} [to]\n     * @param {Position} [position]\n     */\n    const moveTo = assertIsDragging(async function moveTo(to, position) {\n        target = getEl(to);\n        if (!target) {\n            return;\n        }\n\n        // Recompute target position\n        targetPosition = getTargetPosition(position);\n\n        // Move, enter and drop the element on the target\n        await triggerEvent(source, null, \"pointermove\", { ...targetPosition, button: -1 });\n\n        // \"pointerenter\" is fired on every parent of `target` that do not contain\n        // `from` (typically: different parent lists).\n        for (const parent of getDifferentParents(source, target)) {\n            triggerEvent(parent, null, \"pointerenter\", targetPosition);\n        }\n        await nextTick();\n\n        return dragHelpers;\n    }, false);\n\n    const dragHelpers = { cancel, drop, moveTo };\n    const fixture = getFixture();\n\n    const source = getEl(from instanceof Element ? from : fixture.querySelector(from));\n    const sourceRect = source.getBoundingClientRect();\n\n    let dragEndReason = null;\n    let target;\n    let targetPosition;\n\n    // Pointer down on main target\n    await triggerEvent(source, null, \"pointerdown\", {\n        pointerType,\n        clientX: sourceRect.x + sourceRect.width / 2,\n        clientY: sourceRect.y + sourceRect.height / 2,\n    });\n\n    return dragHelpers;\n}\n\n/**\n * Returns the dropdown menu for a specific toggler.\n *\n * @param {HTMLElement} target\n * @param {String|HTMLElement} togglerSelector\n * @returns {HTMLElement|undefined}\n */\nexport function getDropdownMenu(target, togglerSelector) {\n    if (!(target instanceof HTMLElement)) {\n        throw new Error(`getDropdownMenu: target is not an HTMLElement.`);\n    }\n    let el =\n        togglerSelector instanceof HTMLElement\n            ? togglerSelector\n            : target.querySelector(togglerSelector);\n\n    if (el && !el.classList.contains(\"o-dropdown\")) {\n        el = el.querySelector(\".o-dropdown\");\n    }\n    if (!el) {\n        throw new Error(`getDropdownMenu: Could not find element \"${togglerSelector}\".`);\n    }\n    return getPopoverForTarget(el);\n}\n\nexport async function clickDropdown(target, fieldName) {\n    const dropdownInput = target.querySelector(`[name='${fieldName}'] .dropdown input`);\n    dropdownInput.focus();\n    await nextTick();\n    await click(dropdownInput);\n}\n\nexport async function clickOpenedDropdownItem(target, fieldName, itemContent) {\n    const dropdowns = target.querySelectorAll(`[name='${fieldName}'] .dropdown .dropdown-menu`);\n    if (dropdowns.length === 0) {\n        throw new Error(`No dropdown found for field ${fieldName}`);\n    } else if (dropdowns.length > 1) {\n        throw new Error(`Found ${dropdowns.length} dropdowns for field ${fieldName}`);\n    }\n    const dropdownItems = dropdowns[0].querySelectorAll(\"li\");\n    const indexToClick = Array.from(dropdownItems)\n        .map((html) => html.textContent)\n        .indexOf(itemContent);\n    if (indexToClick === -1) {\n        throw new Error(`The element '${itemContent}' does not exist in the dropdown`);\n    }\n    await click(dropdownItems[indexToClick]);\n}\n\nexport async function selectDropdownItem(target, fieldName, itemContent) {\n    await clickDropdown(target, fieldName);\n    await clickOpenedDropdownItem(target, fieldName, itemContent);\n}\n\nexport function getNodesTextContent(nodes) {\n    return Array.from(nodes).map((n) => n.textContent);\n}\n\n/**\n * Click to open the dropdown on a many2one\n */\nexport async function clickOpenM2ODropdown(el, fieldName, selector) {\n    const m2oSelector = `${selector || \"\"} .o_field_many2one[name=${fieldName}] input`;\n    const matches = el.querySelectorAll(m2oSelector);\n    if (matches.length !== 1) {\n        throw new Error(\n            `cannot open m2o: selector ${selector} has been found ${matches.length} instead of 1`\n        );\n    }\n\n    await click(matches[0]);\n    return matches[0];\n}\n\n/**\n * Click on the active (highlighted) selection in a m2o dropdown.\n */\n// TO FIX\nexport async function clickM2OHighlightedItem(el, fieldName, selector) {\n    const m2oSelector = `${selector || \"\"} .o_field_many2one[name=${fieldName}] input`;\n    // const $dropdown = $(m2oSelector).autocomplete('widget');\n    const matches = el.querySelectorAll(m2oSelector);\n    if (matches.length !== 1) {\n        throw new Error(\n            `cannot open m2o: selector ${selector} has been found ${matches.length} instead of 1`\n        );\n    }\n    // clicking on an li (no matter which one), will select the focussed one\n    return click(matches[0].parentElement.querySelector(\"li\"));\n}\n\n// X2Many\nexport async function addRow(target, selector) {\n    await click(target.querySelector(`${selector ? selector : \"\"} .o_field_x2many_list_row_add a`));\n}\n\nexport async function removeRow(target, index) {\n    await click(target.querySelectorAll(\".o_list_record_remove\")[index]);\n}\n", "/** @odoo-module alias=@web/../tests/utils default=false */\n\nimport { isVisible } from \"@web/core/utils/ui\";\nimport { registerCleanup } from \"@web/../tests/helpers/cleanup\";\nimport {\n    click as webClick,\n    getFixture,\n    makeDeferred,\n    triggerEvents as webTriggerEvents,\n} from \"@web/../tests/helpers/utils\";\n\n/**\n * Create a fake object 'dataTransfer', linked to some files,\n * which is passed to drag and drop events.\n *\n * @param {Object[]} files\n * @returns {Object}\n */\nfunction createFakeDataTransfer(files) {\n    return {\n        dropEffect: \"all\",\n        effectAllowed: \"all\",\n        files,\n        items: [],\n        types: [\"Files\"],\n    };\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then clicks on it.\n *\n * @param {string} selector\n * @param {ContainsOptions} [options] forwarded to `contains`\n * @param {boolean} [options.shiftKey]\n */\nexport async function click(selector, options = {}) {\n    const { shiftKey } = options;\n    delete options.shiftKey;\n    await contains(selector, { click: { shiftKey }, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then dragenters `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function dragenterFiles(selector, files, options) {\n    await contains(selector, { dragenterFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then dragovers `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function dragoverFiles(selector, files, options) {\n    await contains(selector, { dragoverFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then drops `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function dropFiles(selector, files, options) {\n    await contains(selector, { dropFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then inputs `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function inputFiles(selector, files, options) {\n    await contains(selector, { inputFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then pastes `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function pasteFiles(selector, files, options) {\n    await contains(selector, { pasteFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then focuses on it.\n *\n * @param {string} selector\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function focus(selector, options) {\n    await contains(selector, { setFocus: true, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then inserts the given `content`.\n *\n * @param {string} selector\n * @param {string} content\n * @param {ContainsOptions} [options] forwarded to `contains`\n * @param {boolean} [options.replace=false]\n */\nexport async function insertText(selector, content, options = {}) {\n    const { replace = false } = options;\n    delete options.replace;\n    await contains(selector, { ...options, insertText: { content, replace } });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then sets its `scrollTop` to the given value.\n *\n * @param {string} selector\n * @param {number|\"bottom\"} scrollTop\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function scroll(selector, scrollTop, options) {\n    await contains(selector, { setScroll: scrollTop, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then triggers `event` on it.\n *\n * @param {string} selector\n * @param {(import(\"@web/../tests/helpers/utils\").EventType|[import(\"@web/../tests/helpers/utils\").EventType, EventInit])[]} events\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function triggerEvents(selector, events, options) {\n    await contains(selector, { triggerEvents: events, ...options });\n}\n\nfunction log(ok, message) {\n    if (window.QUnit) {\n        QUnit.assert.ok(ok, message);\n    } else {\n        if (ok) {\n            console.log(message);\n        } else {\n            console.error(message);\n        }\n    }\n}\n\nlet hasUsedContainsPositively = false;\nif (window.QUnit) {\n    QUnit.testStart(() => (hasUsedContainsPositively = false));\n}\n/**\n * @typedef {[string, ContainsOptions]} ContainsTuple tuple representing params of the contains\n *  function, where the first element is the selector, and the second element is the options param.\n * @typedef {Object} ContainsOptions\n * @property {ContainsTuple} [after] if provided, the found element(s) must be after the element\n *  matched by this param.\n * @property {ContainsTuple} [before] if provided, the found element(s) must be before the element\n *  matched by this param.\n * @property {Object} [click] if provided, clicks on the first found element\n * @property {ContainsTuple|ContainsTuple[]} [contains] if provided, the found element(s) must\n *  contain the provided sub-elements.\n * @property {number} [count=1] numbers of elements to be found to declare the contains check\n *  as successful. Elements are counted after applying all other filters.\n * @property {Object[]} [dragenterFiles] if provided, dragenters the given files on the found element\n * @property {Object[]} [dragoverFiles] if provided, dragovers the given files on the found element\n * @property {Object[]} [dropFiles] if provided, drops the given files on the found element\n * @property {Object[]} [inputFiles] if provided, inputs the given files on the found element\n * @property {{content:string, replace:boolean}} [insertText] if provided, adds to (or replace) the\n *  value of the first found element by the given content.\n * @property {ContainsTuple} [parent] if provided, the found element(s) must have as\n *  parent the node matching the parent parameter.\n * @property {Object[]} [pasteFiles] if provided, pastes the given files on the found element\n * @property {number|\"bottom\"} [scroll] if provided, the scrollTop of the found element(s)\n *  must match.\n *  Note: when using one of the scrollTop options, it is advised to ensure the height is not going\n *  to change soon, by checking with a preceding contains that all the expected elements are in DOM.\n * @property {boolean} [setFocus] if provided, focuses the first found element.\n * @property {boolean} [shadowRoot] if provided, targets the shadowRoot of the found elements.\n * @property {number|\"bottom\"} [setScroll] if provided, sets the scrollTop on the first found\n *  element.\n * @property {HTMLElement} [target=getFixture()]\n * @property {string[]} [triggerEvents] if provided, triggers the given events on the found element\n * @property {string} [text] if provided, the textContent of the found element(s) or one of their\n *  descendants must match. Use `textContent` option for a match on the found element(s) only.\n * @property {string} [textContent] if provided, the textContent of the found element(s) must match.\n *  Prefer `text` option for a match on the found element(s) or any of their descendants, usually\n *  allowing for a simpler and less specific selector.\n * @property {string} [value] if provided, the input value of the found element(s) must match.\n *  Note: value changes are not observed directly, another mutation must happen to catch them.\n * @property {boolean} [visible] if provided, the found element(s) must be (in)visible\n */\nclass Contains {\n    /**\n     * @param {string} selector\n     * @param {ContainsOptions} [options={}]\n     */\n    constructor(selector, options = {}) {\n        this.selector = selector;\n        this.options = options;\n        this.options.count ??= 1;\n        this.options.targetParam = this.options.target;\n        this.options.target ??= getFixture();\n        let selectorMessage = `${this.options.count} of \"${this.selector}\"`;\n        if (this.options.visible !== undefined) {\n            selectorMessage = `${selectorMessage} ${\n                this.options.visible ? \"visible\" : \"invisible\"\n            }`;\n        }\n        if (this.options.targetParam) {\n            selectorMessage = `${selectorMessage} inside a specific target`;\n        }\n        if (this.options.parent) {\n            selectorMessage = `${selectorMessage} inside a specific parent`;\n        }\n        if (this.options.contains) {\n            selectorMessage = `${selectorMessage} with a specified sub-contains`;\n        }\n        if (this.options.text !== undefined) {\n            selectorMessage = `${selectorMessage} with text \"${this.options.text}\"`;\n        }\n        if (this.options.textContent !== undefined) {\n            selectorMessage = `${selectorMessage} with textContent \"${this.options.textContent}\"`;\n        }\n        if (this.options.value !== undefined) {\n            selectorMessage = `${selectorMessage} with value \"${this.options.value}\"`;\n        }\n        if (this.options.scroll !== undefined) {\n            selectorMessage = `${selectorMessage} with scroll \"${this.options.scroll}\"`;\n        }\n        if (this.options.after !== undefined) {\n            selectorMessage = `${selectorMessage} after a specified element`;\n        }\n        if (this.options.before !== undefined) {\n            selectorMessage = `${selectorMessage} before a specified element`;\n        }\n        this.selectorMessage = selectorMessage;\n        if (this.options.contains && !Array.isArray(this.options.contains[0])) {\n            this.options.contains = [this.options.contains];\n        }\n        if (this.options.count) {\n            hasUsedContainsPositively = true;\n        } else if (!hasUsedContainsPositively) {\n            throw new Error(\n                `Starting a test with \"contains\" of count 0 for selector \"${this.selector}\" is useless because it might immediately resolve. Start the test by checking that an expected element actually exists.`\n            );\n        }\n        /** @type {string} */\n        this.successMessage = undefined;\n        /** @type {function} */\n        this.executeError = undefined;\n    }\n\n    /**\n     * Starts this contains check, either immediately resolving if there is a\n     * match, or registering appropriate listeners and waiting until there is a\n     * match or a timeout (resolving or rejecting respectively).\n     *\n     * Success or failure messages will be logged with QUnit as well.\n     *\n     * @returns {Promise}\n     */\n    run() {\n        this.done = false;\n        this.def = makeDeferred();\n        this.scrollListeners = new Set();\n        this.onScroll = () => this.runOnce(\"after scroll\");\n        if (!this.runOnce(\"immediately\")) {\n            this.timer = setTimeout(\n                () => this.runOnce(\"Timeout of 5 seconds\", { crashOnFail: true }),\n                5000\n            );\n            this.observer = new MutationObserver((mutations) => {\n                try {\n                    this.runOnce(\"after mutations\");\n                } catch (e) {\n                    this.def.reject(e); // prevents infinite loop in case of programming error\n                }\n            });\n            this.observer.observe(this.options.target, {\n                attributes: true,\n                childList: true,\n                subtree: true,\n            });\n            registerCleanup(() => {\n                if (!this.done) {\n                    this.runOnce(\"Test ended\", { crashOnFail: true });\n                }\n            });\n        }\n        return this.def;\n    }\n\n    /**\n     * Runs this contains check once, immediately returning the result (or\n     * undefined), and possibly resolving or rejecting the main promise\n     * (and printing QUnit log) depending on options.\n     * If undefined is returned it means the check was not successful.\n     *\n     * @param {string} whenMessage\n     * @param {Object} [options={}]\n     * @param {boolean} [options.crashOnFail=false]\n     * @param {boolean} [options.executeOnSuccess=true]\n     * @returns {HTMLElement[]|undefined}\n     */\n    runOnce(whenMessage, { crashOnFail = false, executeOnSuccess = true } = {}) {\n        const res = this.select();\n        if (res?.length === this.options.count || crashOnFail) {\n            // clean before doing anything else to avoid infinite loop due to side effects\n            this.observer?.disconnect();\n            clearTimeout(this.timer);\n            for (const el of this.scrollListeners ?? []) {\n                el.removeEventListener(\"scroll\", this.onScroll);\n            }\n            this.done = true;\n        }\n        if (res?.length === this.options.count) {\n            this.successMessage = `Found ${this.selectorMessage} (${whenMessage})`;\n            if (executeOnSuccess) {\n                this.executeAction(res[0]);\n            }\n            return res;\n        } else {\n            this.executeError = () => {\n                let message = `Failed to find ${this.selectorMessage} (${whenMessage}).`;\n                message = res\n                    ? `${message} Found ${res.length} instead.`\n                    : `${message} Parent not found.`;\n                if (this.parentContains) {\n                    if (this.parentContains.successMessage) {\n                        log(true, this.parentContains.successMessage);\n                    } else {\n                        this.parentContains.executeError();\n                    }\n                }\n                log(false, message);\n                this.def?.reject(new Error(message));\n                for (const childContains of this.childrenContains || []) {\n                    if (childContains.successMessage) {\n                        log(true, childContains.successMessage);\n                    } else {\n                        childContains.executeError();\n                    }\n                }\n            };\n            if (crashOnFail) {\n                this.executeError();\n            }\n        }\n    }\n\n    /**\n     * Executes the action(s) given to this constructor on the found element,\n     * prints the success messages, and resolves the main deferred.\n\n     * @param {HTMLElement} el\n     */\n    executeAction(el) {\n        let message = this.successMessage;\n        if (this.options.click) {\n            message = `${message} and clicked it`;\n            webClick(el, undefined, {\n                mouseEventInit: this.options.click,\n                skipDisabledCheck: true,\n                skipVisibilityCheck: true,\n            });\n        }\n        if (this.options.dragenterFiles) {\n            message = `${message} and dragentered ${this.options.dragenterFiles.length} file(s)`;\n            const ev = new Event(\"dragenter\", { bubbles: true });\n            Object.defineProperty(ev, \"dataTransfer\", {\n                value: createFakeDataTransfer(this.options.dragenterFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.dragoverFiles) {\n            message = `${message} and dragovered ${this.options.dragoverFiles.length} file(s)`;\n            const ev = new Event(\"dragover\", { bubbles: true });\n            Object.defineProperty(ev, \"dataTransfer\", {\n                value: createFakeDataTransfer(this.options.dragoverFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.dropFiles) {\n            message = `${message} and dropped ${this.options.dropFiles.length} file(s)`;\n            const ev = new Event(\"drop\", { bubbles: true });\n            Object.defineProperty(ev, \"dataTransfer\", {\n                value: createFakeDataTransfer(this.options.dropFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.inputFiles) {\n            message = `${message} and inputted ${this.options.inputFiles.length} file(s)`;\n            // could not use _createFakeDataTransfer as el.files assignation will only\n            // work with a real FileList object.\n            const dataTransfer = new window.DataTransfer();\n            for (const file of this.options.inputFiles) {\n                dataTransfer.items.add(file);\n            }\n            el.files = dataTransfer.files;\n            /**\n             * Changing files programatically is not supposed to trigger the event but\n             * it does in Chrome versions before 73 (which is on runbot), so in that\n             * case there is no need to make a manual dispatch, because it would lead to\n             * the files being added twice.\n             */\n            const versionRaw = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n            const chromeVersion = versionRaw ? parseInt(versionRaw[2], 10) : false;\n            if (!chromeVersion || chromeVersion >= 73) {\n                el.dispatchEvent(new Event(\"change\"));\n            }\n        }\n        if (this.options.insertText !== undefined) {\n            message = `${message} and inserted text \"${this.options.insertText.content}\" (replace: ${this.options.insertText.replace})`;\n            el.focus();\n            if (this.options.insertText.replace) {\n                el.value = \"\";\n                el.dispatchEvent(new window.KeyboardEvent(\"keydown\", { key: \"Backspace\" }));\n                el.dispatchEvent(new window.KeyboardEvent(\"keyup\", { key: \"Backspace\" }));\n                el.dispatchEvent(new window.InputEvent(\"input\"));\n            }\n            for (const char of this.options.insertText.content) {\n                el.value += char;\n                el.dispatchEvent(new window.KeyboardEvent(\"keydown\", { key: char }));\n                el.dispatchEvent(new window.KeyboardEvent(\"keyup\", { key: char }));\n                el.dispatchEvent(new window.InputEvent(\"input\"));\n            }\n            el.dispatchEvent(new window.InputEvent(\"change\"));\n        }\n        if (this.options.pasteFiles) {\n            message = `${message} and pasted ${this.options.pasteFiles.length} file(s)`;\n            const ev = new Event(\"paste\", { bubbles: true });\n            Object.defineProperty(ev, \"clipboardData\", {\n                value: createFakeDataTransfer(this.options.pasteFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.setFocus) {\n            message = `${message} and focused it`;\n            el.focus();\n        }\n        if (this.options.setScroll !== undefined) {\n            message = `${message} and set scroll to \"${this.options.setScroll}\"`;\n            el.scrollTop =\n                this.options.setScroll === \"bottom\" ? el.scrollHeight : this.options.setScroll;\n        }\n        if (this.options.triggerEvents) {\n            message = `${message} and triggered \"${this.options.triggerEvents.join(\", \")}\" events`;\n            webTriggerEvents(el, null, this.options.triggerEvents, {\n                skipVisibilityCheck: true,\n            });\n        }\n        if (this.parentContains) {\n            log(true, this.parentContains.successMessage);\n        }\n        log(true, message);\n        for (const childContains of this.childrenContains) {\n            log(true, childContains.successMessage);\n        }\n        this.def?.resolve();\n    }\n\n    /**\n     * Returns the found element(s) according to this constructor setup.\n     * If undefined is returned it means the parent cannot be found\n     *\n     * @returns {HTMLElement[]|undefined}\n     */\n    select() {\n        const target = this.selectParent();\n        if (!target) {\n            return;\n        }\n        const baseRes = [...target.querySelectorAll(this.selector)]\n            .map((el) => (this.options.shadowRoot ? el.shadowRoot : el))\n            .filter((el) => el);\n        /** @type {Contains[]} */\n        this.childrenContains = [];\n        const res = baseRes.filter((el, currentIndex) => {\n            let condition =\n                (this.options.textContent === undefined ||\n                    el.textContent.trim() === this.options.textContent) &&\n                (this.options.value === undefined || el.value === this.options.value) &&\n                (this.options.scroll === undefined ||\n                    (this.options.scroll === \"bottom\"\n                        ? Math.abs(el.scrollHeight - el.clientHeight - el.scrollTop) <= 1\n                        : Math.abs(el.scrollTop - this.options.scroll) <= 1));\n            if (condition && this.options.text !== undefined) {\n                if (\n                    el.textContent.trim() !== this.options.text &&\n                    [...el.querySelectorAll(\"*\")].every(\n                        (el) => el.textContent.trim() !== this.options.text\n                    )\n                ) {\n                    condition = false;\n                }\n            }\n            if (condition && this.options.contains) {\n                for (const param of this.options.contains) {\n                    const childContains = new Contains(param[0], { ...param[1], target: el });\n                    if (\n                        !childContains.runOnce(`as child of el ${currentIndex + 1})`, {\n                            executeOnSuccess: false,\n                        })\n                    ) {\n                        condition = false;\n                    }\n                    this.childrenContains.push(childContains);\n                }\n            }\n            if (condition && this.options.visible !== undefined) {\n                if (isVisible(el) !== this.options.visible) {\n                    condition = false;\n                }\n            }\n            if (condition && this.options.after) {\n                const afterContains = new Contains(this.options.after[0], {\n                    ...this.options.after[1],\n                    target,\n                });\n                const afterEl = afterContains.runOnce(`as \"after\"`, {\n                    executeOnSuccess: false,\n                })?.[0];\n                if (\n                    !afterEl ||\n                    !(el.compareDocumentPosition(afterEl) & Node.DOCUMENT_POSITION_PRECEDING)\n                ) {\n                    condition = false;\n                }\n                this.childrenContains.push(afterContains);\n            }\n            if (condition && this.options.before) {\n                const beforeContains = new Contains(this.options.before[0], {\n                    ...this.options.before[1],\n                    target,\n                });\n                const beforeEl = beforeContains.runOnce(`as \"before\"`, {\n                    executeOnSuccess: false,\n                })?.[0];\n                if (\n                    !beforeEl ||\n                    !(el.compareDocumentPosition(beforeEl) & Node.DOCUMENT_POSITION_FOLLOWING)\n                ) {\n                    condition = false;\n                }\n                this.childrenContains.push(beforeContains);\n            }\n            return condition;\n        });\n        if (\n            this.options.scroll !== undefined &&\n            this.scrollListeners &&\n            baseRes.length === this.options.count &&\n            res.length !== this.options.count\n        ) {\n            for (const el of baseRes) {\n                if (!this.scrollListeners.has(el)) {\n                    this.scrollListeners.add(el);\n                    el.addEventListener(\"scroll\", this.onScroll);\n                }\n            }\n        }\n        return res;\n    }\n\n    /**\n     * Returns the found element that should act as the target (parent) for the\n     * main selector.\n     * If undefined is returned it means the parent cannot be found.\n     *\n     * @returns {HTMLElement|undefined}\n     */\n    selectParent() {\n        if (this.options.parent) {\n            this.parentContains = new Contains(this.options.parent[0], {\n                ...this.options.parent[1],\n                target: this.options.target,\n            });\n            return this.parentContains.runOnce(`as parent`, { executeOnSuccess: false })?.[0];\n        }\n        return this.options.target;\n    }\n}\n\n/**\n * Waits until `count` elements matching the given `selector` are present in\n * `options.target`.\n *\n * @param {string} selector\n * @param {ContainsOptions} [options]\n * @returns {Promise}\n */\nexport async function contains(selector, options) {\n    await new Contains(selector, options).run();\n}\n\nconst stepState = {\n    expectedSteps: null,\n    deferred: null,\n    timeout: null,\n    currentSteps: [],\n\n    clear() {\n        clearTimeout(this.timeout);\n        this.timeout = null;\n        this.deferred = null;\n        this.currentSteps = [];\n        this.expectedSteps = null;\n    },\n\n    check({ crashOnFail = false } = {}) {\n        const success =\n            this.expectedSteps.length === this.currentSteps.length &&\n            this.expectedSteps.every((s, i) => s === this.currentSteps[i]);\n        if (!success && !crashOnFail) {\n            return;\n        }\n        QUnit.config.current.assert.verifySteps(this.expectedSteps);\n        if (success) {\n            this.deferred.resolve();\n        } else {\n            this.deferred.reject(new Error(\"Steps do not match.\"));\n        }\n        this.clear();\n    },\n};\n\nif (window.QUnit) {\n    QUnit.testStart(() =>\n        registerCleanup(() => {\n            if (stepState.expectedSteps) {\n                stepState.check({ crashOnFail: true });\n            } else {\n                stepState.clear();\n            }\n        })\n    );\n}\n\n/**\n * Indicate the completion of a test step. This step must then be verified by\n * calling `assertSteps`.\n *\n * @param {string} step\n */\nexport function step(step) {\n    stepState.currentSteps.push(step);\n    QUnit.config.current.assert.step(step);\n    if (stepState.expectedSteps) {\n        stepState.check();\n    }\n}\n\n/**\n * Wait for the given steps to be executed or for the timeout to be reached.\n *\n * @param {string[]} steps\n */\nexport function assertSteps(steps) {\n    if (stepState.expectedSteps) {\n        stepState.check({ crashOnFail: true });\n    }\n    stepState.expectedSteps = steps;\n    stepState.deferred = makeDeferred();\n    stepState.timeout = setTimeout(() => stepState.check({ crashOnFail: true }), 2000);\n    stepState.check();\n    return stepState.deferred;\n}\n", "import { registry } from \"@web/core/registry\";\n\nfunction logout() {\n    return [\n        {\n            content: \"check we're logged in\",\n            trigger: \".o_user_menu .dropdown-toggle\",\n            run: \"click\",\n        },\n        {\n            content: \"click the Log out button\",\n            trigger: \".dropdown-item[data-menu=logout]\",\n            run: \"click\",\n            expectUnloadPage: true,\n        },\n    ];\n}\n\nregistry.category(\"web_tour.tours\").add(\"test_user_switch\", {\n    url: \"/odoo\",\n    steps: () => [\n        ...logout(),\n        {\n            content: \"check if the login input is empty\",\n            trigger: \"input#login:empty\",\n        },\n        {\n            content: \"check if the password input is empty\",\n            trigger: \"input#password:empty\",\n        },\n        {\n            content: \"Should contains the user switch button\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on Marc Demo on the quick login page\",\n            trigger:\n                \".o_user_switch:not(:has(.list-group-item:nth-child(2))) .list-group-item:contains('Marc Demo')\",\n            run: \"click\",\n        },\n        {\n            content: \"Check user choice button to back on the quick login page\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Display the login form\",\n            trigger: \".o_user_switch .fa-user-circle-o\",\n            run: \"click\",\n        },\n        {\n            content: \"fill the login\",\n            trigger: \"input#login\",\n            run: \"edit admin\",\n        },\n        {\n            content: \"fill the password\",\n            trigger: \"input#password\",\n            run: \"edit admin\",\n        },\n        {\n            content: \"click on login button\",\n            trigger: 'button:contains(\"Log in\")',\n            run: \"click\",\n            expectUnloadPage: true,\n        },\n        ...logout(),\n        {\n            content: \"Check if there is Mitchell Admin in user list selection\",\n            trigger: \".o_user_switch .list-group-item:nth-child(1):contains('Mitchell Admin')\",\n        },\n        {\n            content: \"Check if there is Marc Demo in user list selection\",\n            trigger: \".o_user_switch .list-group-item:nth-child(2):contains('Marc Demo')\",\n        },\n        {\n            content: \"Choice demo\",\n            trigger: \".o_user_switch .list-group-item:contains('Marc Demo')\",\n            run: \"click\",\n        },\n        {\n            content: \"check the login for demo\",\n            trigger: \"input#login:value('demo')\",\n        },\n        {\n            content: \"fill the password\",\n            trigger: \"input#password\",\n            run: \"edit demo\",\n        },\n        {\n            content: \"Check back button to back on the quick login page\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Check have 2 users\",\n            trigger: \".o_user_switch .list-group-item:nth-child(2)\",\n        },\n        {\n            content: \"Click on Mitchell Admin\",\n            trigger: \".o_user_switch .list-group-item:nth-child(1):contains('Mitchell Admin')\",\n            run: \"click\",\n        },\n        {\n            content: \"check the login for admin\",\n            trigger: \"input#login:value('admin')\",\n        },\n        {\n            content: \"fill the password\",\n            trigger: \"input#password\",\n            run: \"edit admin\",\n        },\n        {\n            content: \"Check back button to back on the quick login page\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Display the login form\",\n            trigger: \".o_user_switch .fa-user-circle-o\",\n            run: \"click\",\n        },\n        {\n            content: \"the login form is display\",\n            trigger: \"form.oe_login_form:not(.d-none)\",\n        },\n        {\n            content: \"check if the login input is empty\",\n            trigger: \"input#login:empty\",\n        },\n        {\n            content: \"check if the password input is empty\",\n            trigger: \"input#password:empty\",\n        },\n        {\n            content: \"Back to user switch\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Remove the admin user from page\",\n            trigger: \".o_user_switch .d-flex:first-child .fa-times\",\n            run: \"click\",\n        },\n        {\n            content: \"only one user is left on quick login\",\n            trigger:\n                \".o_user_switch:not(:has(.list-group-item:nth-child(2))) .list-group-item:contains('Marc Demo')\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_activity_date_format\", {\n    steps: () => [\n        {\n            trigger: \"button:contains('Activities')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-item:contains('To-Do')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"edit Go Party\",\n        },\n        {\n            trigger: \"button:contains('Schedule')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Activity:contains('Go Party')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Activity-info i\",\n            run: \"click\",\n        },\n        // Format expected from the server for 9 AM at the first day of 2024 is date_format = \"%d/%b/%y\", time_format = \"%I:%M:%S %p\".\n        {\n            trigger:\n                \".o-mail-Activity-details tr:contains('Created') td:contains('01/Jan/24 09:00:00 AM')\",\n        },\n        {\n            // Default due date is 5 days after creation date.\n            trigger: \".o-mail-Activity-details tr:contains('Due on') td:contains('06/Jan/24')\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_channel_as_guest_tour.js\", {\n    steps: () => [\n        {\n            content: \"Channel secret token has been hidden on welcome page\",\n            trigger: \".o-mail-WelcomePage\",\n            run() {\n                if (!window.location.pathname.startsWith(\"/discuss/channel\")) {\n                    console.error(\"Channel secret token is still present in URL.\");\n                }\n            },\n        },\n        {\n            content: \"Click join\",\n            trigger: \"button[title='Join Channel']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that we are on channel page\",\n            trigger: \".o-mail-Thread\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_channel_call_public_tour.js\", {\n    steps: () => [\n        {\n            content: \"The call does not start on the welcome page\",\n            trigger: \".o-mail-WelcomePage\",\n            async run() {\n                await new Promise((r) => setTimeout(r, 250));\n                const rtcService = odoo.__WOWL_DEBUG__.root.env.services[\"discuss.rtc\"];\n                if (rtcService?.selfSession || rtcService?.state.hasPendingRequest) {\n                    console.error(\"The call should not have started.\");\n                }\n            },\n        },\n        {\n            content: \"Click join\",\n            trigger: \"button[title='Join Channel']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that the call has started\",\n            trigger: \".o-discuss-Call\",\n        },\n        {\n            content: \"Check that current user is in call ('disconnect' button visible)\",\n            trigger: \"button[title='Disconnect']\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { inputFiles } from \"@web/../tests/utils\";\n\n// The tour is ran twice, ensure the correct message is always targetted.\nconst messageSelector = \".o-mail-Message:has(.o-mail-Message-body:contains('cheese'))\";\nconst editedMessageSelector = \".o-mail-Message:has(.o-mail-Message-body:contains('vegetables'))\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_channel_public_tour.js\", {\n    steps: () => [\n        {\n            trigger: \".o-mail-Discuss\",\n        },\n        {\n            trigger: \".o-mail-Thread\",\n            run() {\n                if (!window.location.pathname.startsWith(\"/discuss/channel\")) {\n                    console.error(\"Channel secret token is still present in URL.\");\n                }\n                const errors = odoo.loader.findErrors();\n                if (Object.keys(errors).length) {\n                    console.error(\"Couldn't load all JS modules.\", errors);\n                }\n                document.body.classList.add(\"o_discuss_channel_public_modules_loaded\");\n                if (\n                    document.title !== document.querySelector(\".o-mail-Discuss-threadName\")?.value\n                ) {\n                    console.error(\"Tab title should match conversation name.\");\n                }\n            },\n        },\n        {\n            trigger: \".o_discuss_channel_public_modules_loaded\",\n        },\n        {\n            trigger: \".o-mail-Composer-input\",\n            run: \"edit cheese\",\n        },\n        {\n            trigger: \".o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                const text = new File([\"hello, world\"], \"text.txt\", { type: \"text/plain\" });\n                await inputFiles(\".o-mail-Composer-coreMain .o_input_file\", [text]);\n            },\n        },\n        {\n            trigger: \".o-mail-AttachmentCard:not(.o-isUploading):contains(text.txt)\",\n        },\n        {\n            trigger: \".o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                await inputFiles(\".o-mail-Composer-coreMain .o_input_file\", [\n                    new File(\n                        [\n                            await (\n                                await fetch(\n                                    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQIW2P4v5ThPwAG7wKklwQ/bwAAAABJRU5ErkJggg==\"\n                                )\n                            ).blob(),\n                        ],\n                        \"image.png\",\n                        { type: \"image/png\" }\n                    ),\n                ]);\n            },\n        },\n        {\n            trigger: '.o-mail-AttachmentImage:not(.o-isUploading)[title=\"image.png\"]',\n            async run() {\n                const store = odoo.__WOWL_DEBUG__.root.env.services[\"mail.store\"];\n                if (store.self.type === \"guest\") {\n                    const src = this.anchor.querySelector(\"img\").src;\n                    const token = store.Attachment.get(\n                        (src.match(\"/web/image/([0-9]+)\") || []).at(-1)\n                    )?.access_token;\n                    if (!(token && src.includes(`access_token=${token}`))) {\n                        throw new Error(\"Access token of the attachment isn't correct.\");\n                    }\n                }\n            },\n        },\n        {\n            trigger: \".o-mail-Composer-send:enabled\",\n            run: \"click\",\n        },\n        {\n            trigger: `${messageSelector}[data-persistent]`,\n        },\n        {\n            trigger: `${messageSelector} .o-mail-AttachmentCard:contains(\"text.txt\")`,\n        },\n        {\n            trigger: messageSelector,\n            run: `hover && click ${messageSelector} [title='Add a Reaction']`,\n        },\n        {\n            trigger: \".o-EmojiPicker .o-Emoji:contains('\ud83d\ude42')\",\n            run: \"click\",\n        },\n        {\n            trigger: `${messageSelector} .o-mail-MessageReaction:contains('\ud83d\ude42')`,\n            run: \"click\",\n        },\n        {\n            trigger: `${messageSelector}:not(:has(.o-mail-MessageReaction:contains('\ud83d\ude42')))`,\n        },\n        {\n            trigger: `${messageSelector}`,\n            run: `hover && click ${messageSelector} [title='Expand']`,\n        },\n        {\n            trigger: `.o-mail-Message-moreMenu [title='Edit'], ${messageSelector} [title='Edit']`,\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Message .o-mail-Composer-input\",\n            run: \"edit vegetables\",\n        },\n        {\n            trigger: \".o-mail-Message button[aria-label='Attach files']\",\n            async run() {\n                const extratxt = new File([\"hello 2\"], \"extra.txt\", { type: \"text/plain\" });\n                await inputFiles(\".o-mail-Message .o_input_file\", [extratxt]);\n            },\n        },\n        {\n            trigger:\n                \".o-mail-Message .o-mail-Composer .o-mail-AttachmentCard:not(.o-isUploading):contains(extra.txt)\",\n        },\n        {\n            trigger: \".o-mail-Message a:contains(save)\",\n            run: \"click\",\n        },\n        {\n            trigger: editedMessageSelector,\n        },\n        {\n            trigger: `${editedMessageSelector} .o-mail-AttachmentCard:contains(\"text.txt\")`,\n        },\n        {\n            trigger: `${editedMessageSelector} .o-mail-AttachmentCard:contains(\"extra.txt\")`,\n        },\n        {\n            trigger: `${editedMessageSelector} .o-mail-AttachmentCard:contains(\"extra.txt\") .o-mail-AttachmentCard-unlink`,\n            run: \"click\",\n        },\n        {\n            trigger: \".modal:contains(Confirmation) .btn:contains(Ok)\",\n            run: \"click\",\n        },\n        {\n            trigger: `${editedMessageSelector}:not(:has(.o-mail-AttachmentCard:contains(\"extra.txt\")))`,\n        },\n        {\n            trigger: \"button[title='Search Messages']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_searchview_input\",\n            run: \"edit text.txt\",\n        },\n        {\n            trigger: \"button[aria-label='Search button']\",\n            run: \"click\",\n        },\n        {\n            trigger: `.o-mail-SearchMessagesPanel ${editedMessageSelector} .o-mail-AttachmentCard:contains(\"text.txt\")`,\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_configuration_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"mail.menu_root_discuss\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_main_navbar button:contains('Configuration')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-menu a:contains('Notification')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-DiscussNotificationSettings label:contains('Mute')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains('All Messages')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains('Mentions Only')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains('Nothing')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-header button[aria-label='Close']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_main_navbar button:contains('Configuration')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-menu a:contains('Voice & Video')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"select[name='inputDevice']\",\n        },\n        {\n            trigger: \"button:contains('Voice Detection')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"label:contains('Voice detection threshold')\",\n        },\n        {\n            trigger: \"button:contains('Push to Talk')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"label:contains('Push-to-talk key')\",\n        },\n        {\n            trigger: \"label:contains('Delay after releasing push-to-talk')\",\n        },\n        {\n            trigger: \"input[aria-label='Show video participants only']\",\n        },\n        {\n            trigger: \"input[aria-label='Blur video background']\",\n            run: \"click\",\n        },\n        {\n            trigger: \"label:contains('Background blur intensity')\",\n        },\n        {\n            trigger: \"label:contains('Edge blur intensity')\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_go_back_to_thread_from_breadcrumbs.js\", {\n    steps: () => [\n        { trigger: \".o-mail-Discuss-threadName[title='Inbox']\" },\n        { trigger: \".o-mail-DiscussSidebar-item:contains(Starred)\", run: \"click\" },\n        { trigger: \"button[title='View or join channels']\", run: \"click\" },\n        { trigger: \".breadcrumb-item:contains(Starred)\", run: \"click\" },\n        { trigger: \".o-mail-Discuss-threadName[title='Starred']\" },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"sidebar_in_public_page_tour\", {\n    steps: () => [\n        {\n            trigger: \".o-mail-Discuss-header [title='Channel 1']\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 1).o-active\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 2)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Discuss-header [title='Channel 2']\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 2).o-active\",\n            run() {\n                history.back();\n            },\n        },\n        {\n            trigger: \".o-mail-Discuss-header [title='Channel 1']\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 1).o-active\",\n            run() {\n                history.forward();\n            },\n        },\n        {\n            trigger: \".o-mail-Discuss-header [title='Channel 2']\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 2).o-active\",\n        },\n    ],\n});\n", "import { SubChannelList } from \"@mail/discuss/core/public_web/sub_channel_list\";\n\nimport { status } from \"@odoo/owl\";\n\nimport { registry } from \"@web/core/registry\";\nimport { Deferred } from \"@web/core/utils/concurrency\";\nimport { patch } from \"@web/core/utils/patch\";\nimport { effect } from \"@web/core/utils/reactive\";\nimport { contains, dragenterFiles, dropFiles, scroll } from \"@web/../tests/utils\";\n\nlet waitForLoadMoreToDisappearDef;\nregistry.category(\"web_tour.tours\").add(\"test_discuss_sub_channel_search\", {\n    steps: () => [\n        {\n            trigger: \"body\",\n            run() {\n                patch(SubChannelList.prototype, {\n                    setup() {\n                        super.setup(...arguments);\n                        effect(\n                            (state) => {\n                                if (status(this) === \"destroyed\") {\n                                    return;\n                                }\n                                if (!state.isVisible) {\n                                    waitForLoadMoreToDisappearDef?.resolve();\n                                }\n                            },\n                            [this.loadMoreState]\n                        );\n                    },\n                });\n            },\n        },\n        {\n            trigger: \"button[title='Threads']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-SubChannelList\",\n            async run() {\n                // 30 newest sub channels are loaded initially.\n                for (let i = 99; i > 69; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                    await contains(\".o-mail-SubChannelList-thread\", { count: 30 });\n                }\n            },\n        },\n        {\n            trigger: \".o-mail-ActionPanel:has(.o-mail-SubChannelList) .o_searchview_input\",\n            run: \"edit Sub Channel 10\",\n        },\n        {\n            trigger:\n                \".o-mail-ActionPanel:has(.o-mail-SubChannelList) button[aria-label='Search button']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 10)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 1 });\n                waitForLoadMoreToDisappearDef = new Deferred();\n            },\n        },\n        {\n            trigger: \".o_searchview_input\",\n            run: \"clear\",\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 99)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 31 });\n                // Already fetched sub channels are shown in addition to the one\n                // that was fetched during the search.\n                for (let i = 99; i > 69; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                }\n                await contains(\".o-mail-SubChannelList-thread\", { text: `Sub Channel 10` });\n                // Ensure lazy loading is still working after a search.\n                await waitForLoadMoreToDisappearDef;\n                waitForLoadMoreToDisappearDef = new Deferred();\n                await scroll(\".o-mail-ActionPanel:has(.o-mail-SubChannelList)\", \"bottom\");\n            },\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 40)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 61 });\n                for (let i = 99; i > 39; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                }\n                await waitForLoadMoreToDisappearDef;\n                waitForLoadMoreToDisappearDef = new Deferred();\n                await scroll(\".o-mail-ActionPanel:has(.o-mail-SubChannelList)\", \"bottom\");\n            },\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 11)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 90 });\n                for (let i = 99; i > 9; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                }\n                await waitForLoadMoreToDisappearDef;\n                await scroll(\".o-mail-ActionPanel:has(.o-mail-SubChannelList)\", \"bottom\");\n            },\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 0)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 100 });\n                for (let i = 99; i > 0; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"create_thread_for_attachment_without_body\", {\n    steps: () => [\n        {\n            content: \"Open general channel\",\n            trigger: '.o-mail-DiscussSidebarChannel-itemName:contains(\"general\")',\n            run: \"click\",\n        },\n        {\n            content: \"Drop a file\",\n            trigger: \".o-mail-Discuss-main\",\n            async run() {\n                const files = [new File([\"hi there\"], \"file2.txt\", { type: \"text/plain\" })];\n                await dragenterFiles(\".o-mail-Discuss-main\", files);\n                await dropFiles(\".o-Dropzone\", files);\n            },\n        },\n        {\n            trigger: '.o-mail-AttachmentCard:not(.o-isUploading):contains(\"file2.txt\")',\n        },\n        {\n            content: \"Click on send button\",\n            trigger: \".o-mail-Composer-send:enabled\",\n            run: \"click\",\n        },\n        {\n            content: \"Hover on attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"file2.txt\")',\n            run: \"hover\",\n        },\n        {\n            content: \"Click on expand button\",\n            trigger: '.o-mail-Message [title=\"Expand\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Create a new thread\",\n            trigger: '.o-dropdown-item:contains(\"Create Thread\")',\n            run: \"click\",\n        },\n        {\n            content: \"Check a new thread is created\",\n            trigger: '.o-mail-Discuss:contains(\"New Thread\")',\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_activity_schedule_from_chatter\", {\n    steps: () => [\n        {\n            trigger: \"button:contains('Activities')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-item:contains('Call')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']:value('Call')\",\n        },\n        {\n            trigger: \"button:contains('Schedule')\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-item:contains('To-Do')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"edit Play Mario Party\",\n        },\n        {\n            trigger: \"button:contains('Schedule')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Activity:contains('Play Mario Party')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains('Activities')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"edit Play Mario Kart\",\n        },\n        {\n            trigger: \"button:contains('Mark as Done')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Message:contains('Play Mario Kart')\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { contains, dragenterFiles, dropFiles, inputFiles } from \"@web/../tests/utils\";\n\n/**\n * This tour depends on data created by python test in charge of launching it.\n * It is not intended to work when launched from interface. It is needed to test\n * an action (action manager) which is not possible to test with QUnit.\n * @see mail/tests/test_mail_composer.py\n */\nregistry.category(\"web_tour.tours\").add(\"mail/static/tests/tours/mail_composer_test_tour.js\", {\n    steps: () => [\n        {\n            content: \"Wait for the chatter to be fully loaded\",\n            trigger: \".o-mail-Chatter\",\n            async run() {\n                await contains(\".o-mail-Message\", { count: 1 });\n            },\n        },\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Write something in composer\",\n            trigger: \".o-mail-Composer-input\",\n            run: \"edit blahblah @Not && click body\",\n        },\n        {\n            content: \"Mention a partner\",\n            trigger: \".o-mail-Composer-suggestion:contains(Not A Demo User)\",\n            run: \"click\",\n        },\n        {\n            content: \"Add one file in composer\",\n            trigger: \".o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                const files = [new File([\"hello, world\"], \"file1.txt\", { type: \"text/plain\" })];\n                await inputFiles(\".o-mail-Composer-coreMain .o_input_file\", files);\n            },\n        },\n        {\n            trigger: '.o-mail-AttachmentCard:not(.o-isUploading):contains(\"file1.txt\")',\n        },\n        {\n            content: \"Open full composer\",\n            trigger: \"button[aria-label='Full composer']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check composer keeps open after pushing Escape\",\n            trigger: \".o_mail_composer_form_view\",\n            run: \"press Escape\",\n        },\n        {\n            content: \"Check the earlier provided attachment is listed\",\n            trigger: \".o_field_mail_composer_attachment_list a:contains(file1.txt)\",\n        },\n        {\n            content: \"Check subject is autofilled\",\n            trigger: '[name=\"subject\"] input',\n            run() {\n                const subjectValue = document.querySelector('[name=\"subject\"] input').value;\n                if (subjectValue !== \"Jane\") {\n                    console.error(\n                        `Full composer should have \"Jane\" in subject input (actual: ${subjectValue})`\n                    );\n                }\n            },\n        },\n        {\n            content: \"Check composer content is kept and contains the user's signature\",\n            trigger: '.o_field_html[name=\"body\"]',\n            run() {\n                const bodyContent = document.querySelector(\n                    '.o_field_html[name=\"body\"]'\n                ).textContent;\n                if (!bodyContent.includes(\"blahblah @Not A Demo User\")) {\n                    console.error(\n                        `Full composer should contain text from small composer (\"blahblah @Not A Demo User\") in body input (actual: ${bodyContent})`\n                    );\n                }\n                const mentionLink = document.querySelector(\n                    '.o_field_html[name=\"body\"] a'\n                ).textContent;\n                if (!mentionLink.includes(\"@Not A Demo User\")) {\n                    console.error(\n                        `Full composer should contain mention link from small composer (\"@Not A Demo User\") in body input)`\n                    );\n                }\n                /** When opening the full composer for the first time, the system\n                 * should add the user's signature to the end of the message so\n                 * that the user can edit it. After adding the signature to\n                 * the editor, the server shouldn't automatically add the\n                 * signature to the message (see: Python tests). */\n                if ((bodyContent.match(/--\\nErnest/g) || []).length !== 1) {\n                    console.error(\"Full composer should contain the user's signature once.\");\n                }\n            },\n        },\n        {\n            content: \"Drop a file on the full composer\",\n            trigger: \".o_mail_composer_form_view\",\n            async run() {\n                const files = [new File([\"hi there\"], \"file2.txt\", { type: \"text/plain\" })];\n                await dragenterFiles(\".o_mail_composer_form_view .o_form_renderer\", files);\n                await dropFiles(\".o-Dropzone\", files);\n            },\n        },\n        {\n            content: \"Check the attachment is listed\",\n            trigger: \".o_field_mail_composer_attachment_list a:contains(file2.txt)\",\n        },\n        {\n            content: \"Click on the mail template selector\",\n            trigger: \".mail-composer-template-dropdown-btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Check a template is listed\",\n            trigger:\n                '.mail-composer-template-dropdown.popover .o-dropdown-item:contains(\"Test template\")',\n        },\n        {\n            content: \"Verify admin template is NOT listed\",\n            trigger: \".mail-composer-template-dropdown.popover\",\n            run() {\n                const hasAdminTemplate = [...document.querySelectorAll(\".o-dropdown-item\")].some(\n                    (item) => item.textContent.includes(\"Test template for admin\")\n                );\n                if (hasAdminTemplate) {\n                    console.error(\n                        \"Template assigned to the admin is visible to a non-assigned user! This should not happen.\"\n                    );\n                }\n            },\n        },\n        {\n            content: \"Send message from full composer\",\n            trigger: \".o_mail_send\",\n            run: \"click\",\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"blahblah @Not A Demo User\")',\n            run: \"click\",\n        },\n        {\n            content: \"Click on envelope to see recipients of message\",\n            trigger:\n                '.o-mail-Message:has(.o-mail-Message-body:contains(\"blahblah @Not A Demo User\")) .o-mail-Message-notification',\n            run: \"click\",\n        },\n        {\n            content: \"Check message has correct recipients\",\n            trigger: \".o-mail-MessageNotificationPopover:contains('Not A Demo User\\nJane')\",\n        },\n        {\n            content: \"Check message contains the first attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"file1.txt\")',\n        },\n        {\n            content: \"Check message contains the second attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"file2.txt\")',\n        },\n        // Test the full composer input text is kept on closing\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Open full composer\",\n            trigger: \"button[aria-label='Full composer']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that the composer contains the signature\",\n            trigger: '.o_field_html[name=\"body\"]',\n            run() {\n                const bodyContent = document.querySelector(\n                    '.o_field_html[name=\"body\"]'\n                ).textContent;\n                /** When opening the full composer, the system should add the\n                 * user's signature, as this is a new message and the signature\n                 * has not yet been added to it. */\n                if ((bodyContent.match(/--\\nErnest/g) || []).length !== 1) {\n                    console.log(\"Full composer should contain the user's signature once.\");\n                }\n            },\n        },\n        {\n            content: \"Write something in full composer\",\n            trigger: \".note-editable\",\n            run: \"editor keep the content\",\n        },\n        {\n            content: \"Close full composer\",\n            trigger: \".btn-close\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Check full composer text is kept\",\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                if (this.anchor.value !== \"keep the content\") {\n                    console.error(\n                        \"Composer in chatter should contain full composer text after discarding.\"\n                    );\n                }\n            },\n        },\n        {\n            content: \"Open full composer\",\n            trigger: \"button[aria-label='Full composer']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that the composer doesn't add the user's signature twice\",\n            trigger: \".note-editable\",\n            run() {\n                const bodyContent = document.querySelector(\n                    '.o_field_html[name=\"body\"]'\n                ).textContent;\n                /** When re-opening the full composer, the system shouldn't re-add\n                 * the user's signature to the message. As the user deleted the\n                 * signature in the previous steps (see: `editor keep the content`),\n                 * the editor shouldn't contain any signature. */\n                if ((bodyContent.match(/--\\nErnest/g) || []).length !== 0) {\n                    console.error(\"The composer should not contain the user's signature.\");\n                }\n            },\n        },\n        {\n            content: \"Close full composer\",\n            trigger: \".btn-close\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Send message from chatter\",\n            trigger: \".o-mail-Composer-send:enabled\",\n            run: \"click\",\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"keep the content\")',\n        },\n        // Test that the server automatically adds the user's signature to the\n        // email when the user didn't open the full composer.\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Write a message\",\n            trigger: \".o-mail-Composer-input\",\n            run: \"edit hello world\",\n        },\n        {\n            content: \"Send message from chatter\",\n            trigger: \".o-mail-Composer-send:enabled\",\n            run: \"click\",\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"hello world\")',\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { contains, scroll } from \"@web/../tests/utils\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_message_load_order_tour\", {\n    steps: () => [\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(MyTestChannel)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Thread .o-mail-Message\",\n            async run() {\n                await contains(\".o-mail-Thread .o-mail-Message\", { count: 30 });\n                await contains(\".o-mail-Thread\", { scroll: \"bottom\" });\n            },\n        },\n        {\n            trigger: \"*[title='Pinned Messages']\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on invisible jump (should hover card to be visible)\",\n            trigger: \".o-mail-MessageCard-jump:not(:visible)\",\n            run: \"click\",\n        },\n        {\n            // Messages depends on FETCH_LIMIT (currently set to 60) in\n            // the thread service. Thus, at first load the message range\n            // will be (31 - 60). This trigger ensures the next messages\n            // are fetched after jumping to the message.\n            trigger:\n                \".o-mail-Thread .o-mail-Message:first .o-mail-Message-textContent:not(:contains(31))\",\n            async run() {\n                await contains(\".o-mail-Thread .o-mail-Message\", { count: 31 });\n                await contains(\".o-mail-Thread\", { scroll: 0 });\n                // ensure 1 - 31 are loaded in order: 30 below and the\n                // one we're loading messages around.\n                const messages = Array.from(\n                    document.querySelectorAll(\".o-mail-Thread .o-mail-Message-content\")\n                ).map((el) => el.innerText);\n                for (let i = 0; i < 31; i++) {\n                    if (messages[i] !== (i + 1).toString()) {\n                        throw new Error(\"Wrong message order after loading around\");\n                    }\n                }\n                await scroll(\".o-mail-Thread\", \"bottom\");\n            },\n        },\n        {\n            // After jumping to the pinned message, the message range\n            // was (1 -31): 30 before (but none were found), 30 after\n            // and the pinned message itself. This trigger ensures the\n            // next messages are fetched after scrolling to the bottom.\n            trigger: \".o-mail-Thread .o-mail-Message .o-mail-Message-textContent:contains(17)\",\n            async run() {\n                await contains(\".o-mail-Thread .o-mail-Message\", { count: 60 });\n                // ensure 1 - 60  are loaded in order.\n                const messages = Array.from(\n                    document.querySelectorAll(\".o-mail-Thread .o-mail-Message-content\")\n                ).map((el) => el.innerText);\n                for (let i = 0; i < 60; i++) {\n                    if (messages[i] !== (i + 1).toString()) {\n                        throw new Error(\"Wrong message order after loading after\");\n                    }\n                }\n            },\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { delay } from \"@odoo/hoot-dom\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_template_dynamic_placeholder_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: 'Go into the Setting \"app\"',\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Open email templates\",\n            trigger: 'button[name=\"open_mail_templates\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Create a new email template\",\n            trigger: \"button.o_list_button_add\",\n            run: \"click\",\n        },\n        {\n            content: 'Insert # inside \"Subject\" input',\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run: \"edit(no_model_id #)\",\n        },\n        {\n            content: 'Select \"Contact\" model',\n            trigger: 'div[name=\"model_id\"] input[type=\"text\"]',\n            run: \"edit Contact\",\n        },\n        {\n            content: \"Wait for the autocomplete RPC\",\n            trigger: 'div[name=\"model_id\"] .ui-autocomplete:contains(\"Contact\")',\n            run: async() => {\n                await delay(300);\n            }\n        },\n        {\n            content: \"Click on contact\",\n            trigger: 'div[name=\"model_id\"] .ui-autocomplete',\n            run: async function () {\n                const contact = Array.from(\n                    document.querySelectorAll(\n                        'div[name=\"model_id\"] .ui-autocomplete .dropdown-item'\n                    )\n                ).find((el) => el.textContent === \"Contact\");\n                await contact.click();\n            },\n        },\n        {\n            content: \"Wait for the drop down to disappear\",\n            trigger: 'div[name=\"model_id\"] .o-autocomplete:not(:has(.ui-autocomplete))',\n            run: async () => {\n                // Ensure the system has registered a correct model value before\n                // we try to open the DPH.\n                // It seems that the autocomplete validation can be very slow.\n                await new Promise((r) => setTimeout(r, 200));\n            },\n        },\n        {\n            content: 'Retry insert # inside \"Subject\" input',\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run: \"edit (yes_model_id) && press #\",\n        },\n        {\n            content: \"Check if the dynamic placeholder popover is opened\",\n            trigger: \"div.o_model_field_selector_popover\",\n        },\n        {\n            content: \"filter the dph result\",\n            trigger: \"div.o_model_field_selector_popover_search input[type='text']\",\n            run: \"edit name\",\n        },\n        {\n            content: \"Click on the first entry of the dynamic placeholder\",\n            trigger: 'div.o_model_field_selector_popover button:contains(\"Company Name\")',\n            run: \"click\",\n        },\n        {\n            content: \"Enter a default value\",\n            trigger:\n                'div.o_model_field_selector_popover .o_model_field_selector_default_value_input input[type=\"text\"]',\n            run: \"edit defValue\",\n        },\n        {\n            content: \"Click on the insert button\",\n            trigger: \"div.o_model_field_selector_popover button:first-child\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait for the popover to disappear\",\n            trigger: \"body:not(:has(.o_model_field_selector_popover))\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if subject value was correctly updated\",\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run() {\n                const subjectValue = this.anchor.value;\n                const correctValue = \"yes_model_id {{object.company_name|||defValue}}\";\n                if (subjectValue !== correctValue) {\n                    console.error(\n                        `Email template should have \"${correctValue}\" in subject input (actual: ${subjectValue})`\n                    );\n                }\n            },\n        },\n        {\n            content: \"Insert text inside editable\",\n            trigger: \".note-editable.odoo-editor-editable\",\n            async run(actions) {\n                await actions.editor(`/`);\n                document.querySelector(\".note-editable\").dispatchEvent(\n                    new InputEvent(\"input\", {\n                        inputType: \"insertText\",\n                        data: \"/\",\n                    })\n                );\n            },\n        },\n        {\n            content: \"Click on the the dynamic placeholder powerBox options\",\n            trigger: \"div.o-we-powerbox .o-we-command:contains(Dynamic Placeholder)\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if the dynamic placeholder popover is opened\",\n            trigger: \"div.o_model_field_selector_popover\",\n            run: \"click\",\n        },\n        {\n            content: \"filter the dph result\",\n            trigger: \"div.o_model_field_selector_popover_search input[type='text']\",\n            run: \"edit name\",\n        },\n        {\n            content: \"Click on the first entry of the dynamic placeholder\",\n            trigger: 'div.o_model_field_selector_popover button:contains(\"Company Name\")',\n            run: \"click\",\n        },\n        {\n            content: \"Enter a default value\",\n            trigger:\n                'div.o_model_field_selector_popover .o_model_field_selector_default_value_input input[type=\"text\"]',\n            run: \"edit defValue\",\n        },\n        {\n            content: \"Click on the insert button\",\n            trigger: \"div.o_model_field_selector_popover button:first-child\",\n            run: \"click\",\n        },\n        {\n            content: \"Ensure the editable contain the dynamic placeholder t tag\",\n            trigger: `.note-editable.odoo-editor-editable t[t-out=\"object.company_name\"]:contains(\"defValue\")`,\n            run: \"click\",\n        },\n        {\n            content: \"Discard form changes\",\n            trigger: \"button.o_form_button_cancel\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait for the form view to disappear\",\n            trigger: \"body:not(:has(.o_form_sheet))\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { contains, insertText } from \"@web/../tests/utils\";\n\n/**\n * Verify that a user can modify their own profile information.\n */\nregistry.category(\"web_tour.tours\").add(\"mail/static/tests/tours/user_modify_own_profile_tour.js\", {\n    steps: () => [\n        {\n            content: \"Open user account menu\",\n            trigger: \".o_user_menu button\",\n            run: \"click\",\n        },\n        {\n            content: \"Open preferences / profile screen\",\n            trigger: \"[data-menu=settings]\",\n            run: \"click\",\n        },\n        {\n            content: \"Update the email address\",\n            trigger: 'div[name=\"email\"] input',\n            async run() {\n                await insertText(\"div[name='email'] input\", \"updatedemail@example.com\", {\n                    replace: true,\n                });\n                await contains(\".o_form_dirty\", { count: 1 });\n            },\n        },\n        {\n            trigger: \"body.modal-open\",\n        },\n        {\n            content: \"Save the form\",\n            trigger: 'button[name=\"preference_save\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Wait until the modal is closed\",\n            trigger: \"body:not(.modal-open)\",\n            async run() {\n                await contains(\".o_form_dirty\", { count: 0 });\n            },\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('portal_load_homepage', {\n    url: '/my',\n    steps: () => [\n        {\n            content: \"Check portal is loaded\",\n            trigger: 'a[href*=\"/my/account\"]:contains(\"Edit\"):first',\n            run: \"click\",\n            expectUnloadPage: true,\n        },\n        {\n            content: \"Load my account details\",\n            trigger: 'input[value=\"Joel Willis\"]',\n            run: \"click\",\n        },\n        {\n            content: 'type a different phone number',\n            trigger: 'input[name=\"phone\"]',\n            run: \"edit +1 555 666 7788\",\n        },\n        {\n            content: \"Submit the form\",\n            trigger: 'button[type=submit]',\n            run: \"click\",\n            expectUnloadPage: true,\n        },\n        {\n            content: \"Check that we are back on the portal\",\n            trigger: 'a[href*=\"/my/account\"]:contains(\"Edit\"):first',\n        }\n    ]\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"skip_to_content\", {\n    url: \"/\",\n    steps: () => [\n        {\n            content: \"Make sure that Skip to Content button is on top of all the links present in header\",\n            trigger: \"a:first-child[class~='o_skip_to_content']\",\n            run: \"click\"\n        },\n        {\n            content: \"Check if we have been redirected to #wrap\",\n            trigger: \"body\",\n            run: () => {\n                if (!window.location.href.endsWith(\"#wrap\")) {\n                    console.error(\"We should be on #wrap.\");\n                }\n            }\n        }\n    ]\n});\n", "/** @odoo-module */\n\nimport { accountTourSteps } from \"@account/js/tours/account\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('account_tax_group', {\n    url: \"/odoo\",\n    steps: () => [\n    ...accountTourSteps.goToAccountMenu(\"Go to Invoicing\"),\n    {\n        content: \"Go to Vendors\",\n        trigger: 'span:contains(\"Vendors\")',\n        run: \"click\",\n    },\n    {\n        content: \"Go to Bills\",\n        trigger: 'a:contains(\"Bills\")',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_breadcrumb .text-truncate:contains(Bills)\",\n    },\n    {\n        content: \"Create new bill\",\n        trigger: '.o_control_panel_main_buttons .o_list_button_add',\n        run: \"click\",\n    },\n    // Set a vendor\n    {\n        content: \"Add vendor\",\n        trigger: 'div.o_field_widget.o_field_res_partner_many2one[name=\"partner_id\"] div input',\n        run: \"edit Account Tax Group Partner\",\n    },\n    {\n        content: \"Valid vendor\",\n        trigger: '.ui-menu-item a:contains(\"Account Tax Group Partner\")',\n        run: \"click\",\n    },\n    // Add First product\n    {\n        content: \"Add items\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_field_x2many_list_row_add a:contains(\"Add a line\")',\n        run: \"click\",\n    },\n    {\n        content: \"Select input\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_selected_row .o_list_many2one[name=\"product_id\"] input',\n        run: \"edit Account Tax Group Product\",\n    },\n    {\n        content: \"Valid item\",\n        trigger: '.ui-menu-item-wrapper:contains(\"Account Tax Group Product\")',\n        run: \"click\",\n    },\n    // Save account.move\n    ...stepUtils.saveForm(),\n    // Edit tax group amount\n    {\n        content: \"Edit tax group amount\",\n        trigger: '.o_tax_group_edit',\n        run: \"click\",\n    },\n    {\n        content: \"Modify the input value\",\n        trigger: '.o_tax_group_edit_input input',\n        run() {\n            this.anchor.value = 200;\n            this.anchor.select();\n            this.anchor.blur();\n        },\n    },\n    // Check new value for total (with modified tax_group_amount).\n    {\n        content: \"Valid total amount\",\n        trigger: 'span[name=\"amount_total\"]:contains(\"800\")',\n        run: \"click\",\n    },\n    // Modify the quantity of the object\n    {\n        content: \"Select item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Change item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"] input',\n        run: \"edit 2\",\n    },\n    {\n        content: \"Valid the new value\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"] input',\n        run: \"press Enter\",\n    },\n    // Check new tax group value\n    {\n        content: \"Check new value of tax group\",\n        trigger: '.o_tax_group_amount_value:contains(\"120\")',\n        run: \"click\",\n    },\n    // Save form\n    ...stepUtils.saveForm(),\n    // Check new tax group value\n    {\n        content: \"Check new value of tax group\",\n        trigger: '.o_tax_group_amount_value:contains(\"120\")',\n        run: \"click\",\n    },\n    {\n        content: \"Edit tax value\",\n        trigger: '.o_tax_group_edit_input input',\n        run: \"edit 2 && click body\",\n    },\n    {\n        content: \"Check new value of total\",\n        trigger: '.oe_subtotal_footer_separator:contains(\"1,202\")',\n        run: \"click\",\n    },\n    {\n        content: \"Discard changes\",\n        trigger: '.o_form_button_cancel',\n        run: \"click\",\n    },\n    {\n        content: \"Check tax value is reset\",\n        trigger: '.o_tax_group_amount_value:contains(\"120\")',\n    },\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('tests_shared_js_python', {\n    url: \"/account/init_tests_shared_js_python\",\n    steps: () => [\n    {\n        content: \"Click\",\n        trigger: 'button',\n        run: \"click\",\n    },\n    {\n        content: \"Wait\",\n        trigger: 'button.text-success',\n        timeout: 3000,\n    },\n]});\n", "/** @odoo-module **/\n\nimport { waitFor } from \"@odoo/hoot-dom\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst todayDate = function () {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, \"0\");\n    const day = String(now.getDate()).padStart(2, \"0\");\n\n    return `${month}/${day}/${year} 10:00:00`;\n};\n\nregistry.category(\"web_tour.tours\").add(\"calendar_appointments_hour_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"calendar.mail_menu_calendar\"]',\n            content: \"Open Calendar\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-calendar-button-new\",\n            content: \"Create a new event\",\n            run: \"click\",\n        },\n        {\n            trigger: \"#name_0\",\n            content: \"Give a name to the new event\",\n            run: \"edit TEST EVENT\",\n        },\n        {\n            trigger: \"#start_0\",\n            content: \"Give a date to the new event\",\n            run: `edit ${todayDate()}`,\n        },\n        {\n            trigger: \"#duration_0\",\n            content: \"Give a duration to the new event\",\n            run: \"edit 02:00\",\n        },\n        {\n            trigger: \".fa-cloud-upload\",\n            content: \"Save the new event\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_back_button\",\n            content: \"Go back to Calendar view\",\n            run: \"click\",\n        },\n        {\n            trigger: \".scale_button_selection\",\n            content: \"Click to change calendar view\",\n            run: \"click\",\n        },\n        {\n            trigger: '.dropdown-item:contains(\"Month\")',\n            content: \"Change the calendar view to Month\",\n            run: \"click\",\n        },\n        {\n            trigger: \".fc-col-header-cell.fc-day.fc-day-mon\",\n            content: \"Check the day is properly displayed\",\n            run: \"click\",\n        },\n        {\n            trigger: '.fc-time:contains(\"10:00\")',\n            content: \"Check the time is properly displayed\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o_event_title:contains(\"TEST EVENT\")',\n            content: \"Check the event title\",\n        },\n    ],\n});\n\nconst clickOnTheEvent = {\n    content: \"Click on the event (focus + waiting)\",\n    trigger: 'a .fc-event-main:contains(\"Test Event\")',\n    async run(actions) {\n        await actions.click();\n        await new Promise((r) => setTimeout(r, 1000));\n        const custom = document.querySelector(\".o_cw_custom_highlight\");\n        if (custom) {\n            custom.click();\n            await waitFor(\".o_cw_popover\", { timeout: 8000 });\n        }\n    },\n};\n\nregistry.category(\"web_tour.tours\").add(\"test_calendar_delete_tour\", {\n    steps: () => [\n        {\n            content: \"Select filter (everybody)\",\n            trigger: 'div[data-value=\"all\"] input',\n            run: \"click\",\n        },\n        clickOnTheEvent,\n        {\n            content: \"Delete the event\",\n            trigger: \".o_cw_popover_delete\",\n            run: \"click\",\n        },\n        {\n            content: \"Validate the deletion\",\n            trigger: 'button:contains(\"Delete\")',\n            run: \"click\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_calendar_decline_tour\", {\n    steps: () => [\n        clickOnTheEvent,\n        {\n            content: \"Delete the event\",\n            trigger: \".o_cw_popover_delete\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait declined status\",\n            trigger: \".o_attendee_status_declined\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_calendar_decline_with_everybody_filter_tour\", {\n    steps: () => [\n        {\n            content: \"Select filter (everybody)\",\n            trigger: 'div[data-value=\"all\"] input',\n            run: \"click\",\n        },\n        clickOnTheEvent,\n        {\n            content: \"Delete the event\",\n            trigger: \".o_cw_popover_delete\",\n            run: \"click\",\n        },\n        {\n            content: \"Select filter (everybody)\",\n            trigger: 'div[data-value=\"all\"] input',\n            run: \"click\",\n        },\n        {\n            content: \"Wait declined status\",\n            trigger: \".o_attendee_status_declined\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\n    import { registry } from \"@web/core/registry\";\n    import { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n    registry.category(\"web_tour.tours\").add('debug_menu_set_defaults', {\n        url: '/odoo?debug=1',\n        steps: () => [\n            ...stepUtils.goToAppSteps('contacts.menu_contacts', \"Open the contacts menu\"),\n            {\n                content: \"Create a new contact\",\n                trigger: '.o-kanban-button-new',\n                run: \"click\",\n            },\n            {\n                content: \"Check that Company is checked by default, and not Individual\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"company\"]:checked',\n            },\n            {\n                content: \"Select the individual radio button\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"person\"]',\n                run: \"click\",\n            },\n            {\n                content: \"Open the debug menu\",\n                trigger: '.o_debug_manager button',\n                run: \"click\",\n            },\n            {\n                content: \"Click the Set Defaults menu\",\n                trigger: '.dropdown-item:contains(Set Default Values)',\n                run: \"click\",\n            },\n            {\n                content: \"Choose Company Type = Individual\",\n                trigger: '#formview_default_fields',\n                run: function () {\n                    const element_field = document.querySelector('select#formview_default_fields');\n                    element_field.value = 'company_type';\n                    element_field.dispatchEvent(new Event(\"change\"));\n                },\n            },\n            {\n                content: \"Check that there are conditions\",\n                trigger: '#formview_default_conditions',\n                run: \"click\",\n            },\n            {\n                content: \"Save the new default\",\n                trigger: 'footer button:contains(Save default)',\n                run: \"click\",\n            },\n            {\n                content: \"Discard the contact creation\",\n                trigger: 'button.o_form_button_cancel',\n                run: \"click\",\n            },\n            {\n                trigger: '.o_action_manager > .o_kanban_view .o-kanban-button-new',\n                run: \"click\",\n            },\n            {\n                content: \"Check that Individual is checked instead of Company\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"person\"]:checked',\n            },\n            {\n                content: \"Discard the contact creation\",\n                trigger: 'button.o_form_button_cancel',\n                run: \"click\",\n            },\n            {\n                content: \"Wait for discard\",\n                trigger: '.o_control_panel .o-kanban-button-new',\n            },\n        ]\n    });\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('create_crm_team_tour', {\n    url: \"/odoo\",\n    steps: () => [\n    ...stepUtils.goToAppSteps('crm.crm_menu_root'),\n{\n    trigger: 'button[data-menu-xmlid=\"crm.crm_menu_config\"]',\n    run: \"click\",\n}, {\n    trigger: 'a[data-menu-xmlid=\"crm.crm_team_config\"]',\n    run: \"click\",\n}, {\n    trigger: 'button.o_list_button_add',\n    run: \"click\",\n}, {\n    trigger: 'input[id=\"name_0\"]',\n    run: \"edit My CRM Team\",\n}, {\n    trigger: 'button.o-kanban-button-new',\n    run: \"click\",\n}, {\n    trigger: 'div.modal-dialog tr:contains(\"Test Salesman\") input.form-check-input',\n    run: 'click',\n}, {\n    trigger: 'div.modal-dialog tr:contains(\"Test Sales Manager\") input.form-check-input',\n    run: 'click',\n}, {\n    trigger: 'div.modal-dialog tr:contains(\"Test Sales Manager\") input.form-check-input:checked',\n}, {\n    trigger: '.o_list_selection_box:contains(2)',\n}, {\n    trigger: 'button.o_select_button',\n    run: \"click\",\n},\n    ...stepUtils.saveForm()\n]});\n", "/** @odoo-module **/\n\n    import { registry } from \"@web/core/registry\";\n    import { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n    registry.category(\"web_tour.tours\").add('crm_email_and_phone_propagation_edit_save', {\n        url: '/odoo',\n        steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"crm.crm_menu_root\"]',\n            content: 'open crm app',\n            run: \"click\",\n        }, {\n            trigger: '.o_kanban_record:contains(Test Lead Propagation)',\n            content: 'Open the first lead',\n            run: 'click',\n        },\n        {\n            trigger: \".o_form_editable .o_field_widget[name=email_from] input\",\n        },\n        {\n            trigger: \".o_form_button_save:not(:visible)\",\n            content: 'Save the lead',\n            run: 'click',\n        },\n    ]});\n", "/** @odoo-module */\nimport { queryAll } from \"@odoo/hoot-dom\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nconst today = luxon.DateTime.now();\n\nregistry.category(\"web_tour.tours\").add('crm_forecast', {\n    url: \"/odoo\",\n    steps: () => [\n    stepUtils.showAppsMenuItem(),\n    {\n        trigger: \".o_app[data-menu-xmlid='crm.crm_menu_root']\",\n        content: \"open crm app\",\n        run: \"click\",\n    }, {\n        trigger: '.dropdown-toggle[data-menu-xmlid=\"crm.crm_menu_report\"]',\n        content: 'Open Reporting menu',\n        run: 'click',\n    }, {\n        trigger: '.dropdown-item[data-menu-xmlid=\"crm.crm_menu_forecast\"]',\n        content: 'Open Forecast menu',\n        run: 'click',\n    }, {\n        trigger: '.o_column_quick_create:contains(Add next month)',\n        content: 'Wait page loading',\n    }, {\n        trigger: \".o-kanban-button-new\",\n        content: \"click create\",\n        run: 'click',\n    }, {\n        trigger: \".o_field_widget[name=name] input\",\n        content: \"complete name\",\n        run: \"edit Test Opportunity 1\",\n    }, {\n        trigger: \".o_field_widget[name=expected_revenue] input\",\n        content: \"complete expected revenue\",\n        run: \"edit 999999\",\n    }, {\n        trigger: \"button.o_kanban_edit\",\n        content: \"edit lead\",\n        run: \"click\",\n    }, {\n        trigger: \"div[name=date_deadline] input\",\n        content: \"complete expected closing\",\n        run: `edit ${today.toFormat(\"MM/dd/yyyy\")}`,\n    }, {\n        trigger: \"div[name=date_deadline] input\",\n        content: \"click to make the datepicker disappear\",\n        run: \"click\"\n    }, {\n        trigger: '.o_back_button',\n        content: 'navigate back to the kanban view',\n        tooltipPosition: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: \".o_kanban_record:contains('Test Opportunity 1')\",\n        content: \"move to the next month\",\n        async run(helpers) {\n            const undefined_groups = queryAll('.o_column_title:contains(\"None\")').length;\n            await helpers.drag_and_drop(`.o_opportunity_kanban .o_kanban_group:eq(${1 + undefined_groups})`);\n        },\n    }, {\n        trigger: \".o_kanban_record:contains('Test Opportunity 1')\",\n        content: \"edit lead\",\n        run: \"click\"\n    }, {\n        trigger: \".o_field_widget[name=date_deadline] input\",\n        content: \"complete expected closing\",\n        run: `edit ${today.plus({ months: 5 }).startOf(\"month\").minus({ days: 1 }).toFormat(\"MM/dd/yyyy\")} && press Escape`,\n    }, {\n        trigger: \".o_field_widget[name=probability] input\",\n        content: \"max out probability\",\n        run: \"edit 100\",\n    }, {\n        trigger: '.o_back_button',\n        content: 'navigate back to the kanban view',\n        tooltipPosition: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: '.o_kanban_add_column',\n        content: \"add next month\",\n        run: \"click\"\n    }, {\n        trigger: \".o_kanban_record:contains('Test Opportunity 1'):contains('Won')\",\n        content: \"assert that the opportunity has the Won banner\",\n    }\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"crm_rainbowman\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: \".o_app[data-menu-xmlid='crm.crm_menu_root']\",\n            content: \"open crm app\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-kanban-button-new\",\n            content: \"click create\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_field_widget[name=name] input\",\n            content: \"complete name\",\n            run: \"edit Test Lead 1\",\n        },\n        {\n            trigger: \".o_field_widget[name=expected_revenue] input\",\n            content: \"complete expected revenue\",\n            run: \"edit 999999997\",\n        },\n        {\n            trigger: \"button.o_kanban_add\",\n            content: \"create lead\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_record:contains('Test Lead 1')\",\n            content: \"move to won stage\",\n            run: \"drag_and_drop (.o_opportunity_kanban .o_kanban_group:has(.o_column_title:contains('Won')))\",\n        },\n        {\n            trigger: \".o_reward_rainbow\",\n        },\n        {\n            // This step and the following simulates the fact that after drag and drop,\n            // from the previous steps, a click event is triggered on the window element,\n            // which closes the currently shown .o_kanban_quick_create.\n            trigger: \".o_kanban_renderer\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_renderer:not(:has(.o_kanban_quick_create))\",\n        },\n        {\n            trigger: \".o-kanban-button-new\",\n            content: \"create second lead\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_field_widget[name=name] input\",\n            content: \"complete name\",\n            run: \"edit Test Lead 2\",\n        },\n        {\n            trigger: \".o_field_widget[name=expected_revenue] input\",\n            content: \"complete expected revenue\",\n            run: \"edit 999999998\",\n        },\n        {\n            trigger: \"button.o_kanban_add\",\n            content: \"create lead\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_record:contains('Test Lead 2')\",\n        },\n        {\n            // move first test back to new stage to be able to test rainbowman a second time\n            trigger: \".o_kanban_record:contains('Test Lead 1')\",\n            content: \"move back to new stage\",\n            run: \"drag_and_drop .o_opportunity_kanban .o_kanban_group:eq(0) \",\n        },\n        {\n            trigger: \".o_kanban_record:contains('Test Lead 2')\",\n            content: \"click on second lead\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_statusbar_status button[data-value='4']\",\n            content: \"move lead to won stage\",\n            run: \"click\",\n        },\n        {\n            content: \"wait for save completion\",\n            trigger: \".o_form_readonly, .o_form_saved\",\n        },\n        {\n            trigger: \".o_reward_rainbow\",\n        },\n        {\n            trigger: \".o_statusbar_status button[data-value='1']\",\n            content: \"move lead to previous stage & rainbowman appears\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button[name=action_set_won_rainbowman]\",\n            content: \"click button mark won\",\n            run: \"click\",\n        },\n        {\n            content: \"wait for save completion\",\n            trigger: \".o_form_readonly, .o_form_saved\",\n        },\n        {\n            trigger: \".o_reward_rainbow\",\n        },\n        {\n            trigger: \".o_menu_brand\",\n            content: \"last rainbowman appears\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { waitFor } from \"@odoo/hoot-dom\";\nimport { rpc } from \"@web/core/network/rpc\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction openRoot() {\n    return [{\n        content: \"return to client root to avoid race condition\",\n        trigger: 'body',\n        run() {\n            document.querySelector(\"body\").classList.add(\"wait\");\n            window.location = '/odoo';\n        },\n        expectUnloadPage: true,\n    }, {\n        content: \"wait for client reload\",\n        trigger: 'body:not(.wait)',\n    }];\n}\nfunction openUserProfileAtSecurityTab() {\n    return [{\n        content: 'Open user account menu',\n        trigger: '.o_user_menu .dropdown-toggle',\n        run: 'click',\n    }, {\n        content: \"Open preferences / profile screen\",\n        trigger: '[data-menu=settings]',\n        run: 'click',\n    }, {\n        content: \"Switch to security tab\",\n        trigger: 'a[role=tab]:contains(\"Account Security\")',\n        run: 'click',\n    }];\n}\n\n/**\n * Checks that the TOTP button is in the specified state (true = enabled =\n * can disable, false = disabled = can enable), then closes the profile dialog\n * if it's one (= hr not installed).\n *\n * If no totp state is provided, just checks that the toggle exists.\n */\nfunction closeProfileDialog({content, totp_state}) {\n    let trigger;\n    switch (totp_state) {\n    case true: trigger = 'button[name=action_totp_disable]'; break;\n    case false: trigger = 'button[name=action_totp_enable_wizard]'; break;\n    case undefined: trigger = 'button.o_auth_2fa_btn'; break;\n    default: throw new Error(`Invalid totp state ${totp_state}`)\n    }\n\n    return [{\n        content,\n        //TODO: remove when PIPU macro PR is merged: https://github.com/odoo/odoo/pull/194508\n        trigger: 'a[role=tab]:contains(\"Account Security\").active',\n        async run(helpers) {\n            await waitFor(trigger, { timeout: 5000 });\n            const modal = document.querySelector(\".o_dialog\");\n            if (modal) {\n                modal.querySelector(\"button[name=preference_cancel]\").click();\n            }\n        }\n    }, {\n        trigger: 'body:not(:has(.o_dialog))',\n    }];\n}\n\nregistry.category(\"web_tour.tours\").add('totp_tour_setup', {\n    url: '/odoo',\n    steps: () => [\n...openUserProfileAtSecurityTab(),\n{\n    content: \"Open totp wizard\",\n    trigger: 'button[name=action_totp_enable_wizard]',\n    run: \"click\",\n},\n{\n    trigger: \".modal div:contains(entering your password)\",\n},\n{\n    content: \"Check that we have to enter enhanced security mode and input password\",\n    trigger: '[name=password] input',\n    run: 'edit test_user',\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n    run: \"click\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: '.modal li:contains(\"When requested to do so\")',\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: `.modal a:contains(\"Cannot scan it?\")`,\n    async run(helpers) {\n        const secret = this.anchor\n            .closest(\"div\")\n            .querySelector(\"[name=secret] span:first-child\");\n        const copyBtn = secret.querySelector(\"button\");\n        if (copyBtn) {\n            copyBtn.remove();\n        }\n        const token = await rpc('/totphook', {\n            secret: secret.textContent\n        });\n        await helpers.edit(token, '[name=code] input');\n    }\n},\n{\n    trigger: \".modal button.btn-primary:contains(Activate)\",\n    run: \"click\",\n},\n{\n    trigger: \".o_notification_content:contains(2-Factor authentication is now enabled)\",\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n...closeProfileDialog({\n    content: \"Check that the button has changed\",\n    totp_state: true,\n}),\n]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_enabled', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    isActive: [\"body:not(:has(input#login))\"],\n    trigger: \"a:contains(Sign in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit test_user\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit test_user\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n    run: \"click\",\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    async run(helpers) {\n        const token = await rpc('/totphook');\n        helpers.edit(token);\n    }\n},\n{\n    trigger: `button:contains(\"Log in\")`,\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n}]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_device', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    isActive: [\"body:not(:has(input#login))\"],\n    trigger: \"a:contains(Sign in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit test_user\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit test_user\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n    run: \"click\",\n}, {\n    content: \"check remember device box\",\n    trigger: 'label[for=switch-remember]',\n    run: \"click\",\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    async run(helpers) {\n        const token = await rpc('/totphook')\n        helpers.edit(token);\n    }\n},\n{\n    trigger: \"button:contains(Log in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n},\n{\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n    run: 'click',\n}, {\n    content: \"click the Log out button\",\n    trigger: '.dropdown-item[data-menu=logout]',\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"check that we're back on the login page or go to it\",\n    trigger: 'input#login, a:contains(Log in)',\n    run: \"edit Test\",\n}, {\n    content: \"input login again\",\n    trigger: 'input#login',\n    run: \"edit test_user\",\n}, {\n    content: 'input password again',\n    trigger: 'input#password',\n    run: \"edit test_user\",\n}, {\n    content: \"click da button again\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n    expectUnloadPage: true,\n},  {\n    content: \"check we're logged in without 2FA\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n},\n// now go and disable two-factor authentication would be annoying to do in a separate tour\n// because we'd need to login & totp again as HttpCase.authenticate can't\n// succeed w/ totp enabled\n...openUserProfileAtSecurityTab(),\n{\n    content: \"Open totp wizard\",\n    trigger: 'a[role=tab]:contains(\"Account Security\").active',\n},\n{\n    trigger: \"button[name=action_totp_disable]\",\n    run: \"click\",\n},\n{\n    trigger: \".modal div:contains(entering your password)\",\n},\n{\n    content: \"Check that we have to enter enhanced security mode and input password\",\n    trigger: '.modal [name=password] input',\n    run: \"edit test_user\",\n}, {\n    content: \"Confirm\",\n    trigger: \".modal button:contains(Confirm Password)\",\n    run: \"click\",\n},\n{\n    trigger:\".o_notification_content:contains(Two-factor authentication disabled)\",\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n...closeProfileDialog({\n    content: \"Check that the button has changed\",\n    totp_state: false\n}),\n]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_disabled', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    isActive: [\"body:not(:has(input#login))\"],\n    trigger: \"a:contains(Sign in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit test_user\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit test_user\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n    expectUnloadPage: true,\n},\n// normally we'd end the tour here as it's all we care about but there are a\n// bunch of ongoing queries from the loading of the web client which cause\n// issues, so go and open the preferences / profile screen to make sure\n// everything settles down\n...openUserProfileAtSecurityTab(),\n// close the dialog if that makes sense\n...closeProfileDialog({})\n]});\n\nregistry.category(\"web_tour.tours\").add('totp_admin_disables', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    content: 'Go to settings',\n    trigger: '[data-menu-xmlid=\"base.menu_administration\"]',\n    run: \"click\",\n}, {\n    content: 'Wait for page',\n    trigger: '.o_menu_brand:contains(\"Settings\")',\n}, {\n    content: \"Open Users menu\",\n    trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n    run: \"click\",\n}, {\n    content: \"Open Users view\",\n    trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n    run: \"click\",\n}, {\n    content: \"Find test_user User\",\n    trigger: 'tr:has(td.o_data_cell:contains(\"test_user\")) ' +\n                '.o_list_record_selector input[type=checkbox]',\n    run: \"click\",\n}, {\n    content: \"Open Actions menu\",\n    trigger: 'button.dropdown-toggle:contains(\"Action\")',\n    run: \"click\",\n}, {\n    content: \"Select totp remover\",\n    trigger: 'span.dropdown-item:contains(Disable two-factor authentication)',\n    run: \"click\",\n},\n{\n    trigger: \".modal div:contains(entering your password)\",\n},\n{ // enhanced security yo\n    content: \"Check that we have to enter enhanced security mode & input password\",\n    trigger: '.modal [name=password] input',\n    run: \"edit admin\",\n}, {\n    content: \"Confirm\",\n    trigger: \".modal button:contains(Confirm Password)\",\n    run: \"click\",\n},\n{\n    content: \"Wait for user to be unchecked (~ action done)\",\n    trigger: 'tr:has(td.o_data_cell:contains(test_user)) ' +\n                '.o_list_record_selector input[type=checkbox]:not(:checked)',\n},\n{\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(test_user)\",\n    run: \"click\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n    run: \"click\",\n}, {\n    content: \"check 2FA button: should be disabled\",\n    trigger: 'button[name=action_totp_enable_wizard]:disabled',\n}\n]})\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { queryFirst } from \"@odoo/hoot-dom\";\n\nfunction openAccountSettingsTab() {\n    return [{\n        content: 'Go to settings',\n        trigger: '[data-menu-xmlid=\"base.menu_administration\"]',\n        run: \"click\",\n    }, {\n        content: 'Wait for page',\n        trigger: '.o_menu_brand:contains(\"Settings\")',\n    }, {\n        content: \"Open Users menu\",\n        trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n        run: \"click\",\n    }, {\n        content: \"Open Users view\",\n        trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n        run: function (helpers) {\n            // funny story: the users view we're trying to reach, sometimes we're\n            // already there, but if we re-click the next step executes before the\n            // action has the time to re-load, the one after that doesn't, and our\n            // selection get discarded by the action reloading, so here try to\n            // see if we're already on the users action through the breadcrumb and\n            // just close the menu if so\n            const breadcrumb = document.querySelector('.breadcrumb');\n            if (!breadcrumb || !breadcrumb.textContent.includes(\"Users\")) {\n                // on general settings page, click menu\n                helpers.click();\n            } else {\n                // else close menu\n                helpers.click('[data-menu-xmlid=\"base.menu_users\"]');\n            }\n        }\n    }];\n}\n\nregistry.category(\"web_tour.tours\").add('totp_admin_self_invite', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(admin)\",\n    run: \"click\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n    run: \"click\",\n}, {\n    content: \"check that user cannot invite themselves to use 2FA.\",\n    trigger: \"body\",\n    run: function () {\n        const inviteBtn = queryFirst('button:contains(Invite to use 2FA)');\n        if (!inviteBtn) {\n            document.body.classList.add('CannotInviteYourself');\n        }\n    }\n}, {\n    content: \"check that user cannot invite themself.\",\n    trigger: \"body.CannotInviteYourself\",\n}]});\n\nregistry.category(\"web_tour.tours\").add('totp_admin_invite', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(test_user)\",\n    run: \"click\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n    run: \"click\",\n}, {\n    content: \"check that test_user user can be invited to use 2FA.\",\n    trigger: \"button:contains(Invite to use 2FA)\",\n}]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { rpc } from \"@web/core/network/rpc\";\n\nregistry.category(\"web_tour.tours\").add('totportal_tour_setup', {\n    url: '/my/security',\n    steps: () => [{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_enable',\n    run: \"click\",\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: \".modal div:contains(enter your password)\",\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: \"edit portal\", // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n    run: \"click\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: 'li:contains(\"scan the barcode below\")',\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: 'a:contains(\"Cannot scan it?\")',\n},\n{\n    trigger: `span[name=\"secret\"]:hidden`,\n    async run(helpers) {\n        const secret = this.anchor.textContent;\n        const token = await rpc('/totphook', {\n            secret\n        });\n        await helpers.edit(token, 'input[name=\"code\"]');\n    }\n},\n{\n    trigger: \"button.btn-primary:contains(Activate)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Disable two-factor authentication)',\n}]});\n\nregistry.category(\"web_tour.tours\").add('totportal_login_enabled', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    isActive: [\"body:not(:has(input#login))\"],\n    trigger: \"a:contains(Sign in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit portal\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit portal\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n    run: \"click\",\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    run: async function (helpers) {\n        const token = await rpc('/totphook');\n        await helpers.edit(token);\n    }\n}, {\n    trigger: \"button:contains(Log in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(My account)\",\n}, {\n    content: \"go back to security\",\n    trigger: \"a:contains(Security)\",\n    run: \"click\",\n    expectUnloadPage: true,\n},{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_disable',\n    run: \"click\",\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: \".modal div:contains(enter your password)\",\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: \"edit portal\",\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Enable two-factor authentication)',\n}]});\n\nregistry.category(\"web_tour.tours\").add('totportal_login_disabled', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    isActive: [\"body:not(:has(input#login))\"],\n    trigger: \"a:contains(Sign in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit portal\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit portal\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(My account)\",\n}]});\n"], "file": "/web/assets/0950dd5/web.assets_tests.js", "sourceRoot": "../../../"}